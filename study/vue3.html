<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.49">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>Vue3 with Vite | 学无止境</title><meta name="description" content="前端开发入门">
    <link rel="modulepreload" href="/assets/app.c90e916d.js"><link rel="modulepreload" href="/assets/vue3.html.772dc275.js"><link rel="modulepreload" href="/assets/vue3.html.f7007f73.js"><link rel="prefetch" href="/assets/index.html.18541354.js"><link rel="prefetch" href="/assets/Player.html.77798437.js"><link rel="prefetch" href="/assets/Recoreder.html.9ebb5bb1.js"><link rel="prefetch" href="/assets/UploadImg.html.3103f187.js"><link rel="prefetch" href="/assets/index.html.e59756f6.js"><link rel="prefetch" href="/assets/sidebar.html.44293473.js"><link rel="prefetch" href="/assets/index.html.a2797f85.js"><link rel="prefetch" href="/assets/ES6实用技术点.html.8b1e37e0.js"><link rel="prefetch" href="/assets/TypeScript.html.8dc9f476.js"><link rel="prefetch" href="/assets/Vue2源码解析.html.c14deec0.js"><link rel="prefetch" href="/assets/Vue2组件升级.html.f1670933.js"><link rel="prefetch" href="/assets/base.html.c3540643.js"><link rel="prefetch" href="/assets/miniprogram.html.041eacc1.js"><link rel="prefetch" href="/assets/stylus.html.41f961b4.js"><link rel="prefetch" href="/assets/tree.html.0860fe67.js"><link rel="prefetch" href="/assets/vue组件库开发指南.html.c91abf9e.js"><link rel="prefetch" href="/assets/前端加密方案.html.459e61d2.js"><link rel="prefetch" href="/assets/前端水印实现方案.html.d82f268e.js"><link rel="prefetch" href="/assets/Charles.html.7b5ca0b4.js"><link rel="prefetch" href="/assets/Docker.html.4aa9a689.js"><link rel="prefetch" href="/assets/Jmeter.html.ddde4635.js"><link rel="prefetch" href="/assets/Magnet.html.c71b889e.js"><link rel="prefetch" href="/assets/Markdown.html.b84b2273.js"><link rel="prefetch" href="/assets/Mocha.html.fa45efa7.js"><link rel="prefetch" href="/assets/Mockjs.html.70803c15.js"><link rel="prefetch" href="/assets/Nodeppt.html.a7b24c58.js"><link rel="prefetch" href="/assets/Oh-My-ZSH.html.34499c1a.js"><link rel="prefetch" href="/assets/Presentation.html.cb335719.js"><link rel="prefetch" href="/assets/Python.html.79a5dad7.js"><link rel="prefetch" href="/assets/Shell.html.4e0f71d6.js"><link rel="prefetch" href="/assets/Vuepress.html.e697685b.js"><link rel="prefetch" href="/assets/nginx.html.fa9a806d.js"><link rel="prefetch" href="/assets/iconPreview.html.c87a015e.js"><link rel="prefetch" href="/assets/acknowledgment.html.1baf2850.js"><link rel="prefetch" href="/assets/array.html.4bb93bf4.js"><link rel="prefetch" href="/assets/arraybuffer.html.f4ea93a5.js"><link rel="prefetch" href="/assets/async-iterator.html.a2047579.js"><link rel="prefetch" href="/assets/async.html.96f025a9.js"><link rel="prefetch" href="/assets/class-extends.html.f3133f63.js"><link rel="prefetch" href="/assets/class.html.14c8e856.js"><link rel="prefetch" href="/assets/decorator.html.a12651ec.js"><link rel="prefetch" href="/assets/destructuring.html.1583d3f1.js"><link rel="prefetch" href="/assets/fp.html.2180468e.js"><link rel="prefetch" href="/assets/function.html.29f6e41c.js"><link rel="prefetch" href="/assets/generator-async.html.15e19e28.js"><link rel="prefetch" href="/assets/generator.html.16dc11c8.js"><link rel="prefetch" href="/assets/intro.html.d91df46b.js"><link rel="prefetch" href="/assets/iterator.html.abd55d29.js"><link rel="prefetch" href="/assets/let.html.c926d58f.js"><link rel="prefetch" href="/assets/mixin.html.a954bb0a.js"><link rel="prefetch" href="/assets/module-loader.html.0aebe511.js"><link rel="prefetch" href="/assets/module.html.c2b9aaac.js"><link rel="prefetch" href="/assets/number.html.a52237d7.js"><link rel="prefetch" href="/assets/object-methods.html.83472219.js"><link rel="prefetch" href="/assets/object.html.6f44832f.js"><link rel="prefetch" href="/assets/operator.html.52f7bee3.js"><link rel="prefetch" href="/assets/promise.html.e132d802.js"><link rel="prefetch" href="/assets/proposals.html.3d0ba209.js"><link rel="prefetch" href="/assets/proxy.html.b3b4f49e.js"><link rel="prefetch" href="/assets/reference.html.97223488.js"><link rel="prefetch" href="/assets/reflect.html.8c03c197.js"><link rel="prefetch" href="/assets/regex.html.11de44f4.js"><link rel="prefetch" href="/assets/set-map.html.e2a6aa04.js"><link rel="prefetch" href="/assets/simd.html.d05a560f.js"><link rel="prefetch" href="/assets/spec.html.61ef4f40.js"><link rel="prefetch" href="/assets/string-methods.html.f306e10d.js"><link rel="prefetch" href="/assets/string.html.5597fb3f.js"><link rel="prefetch" href="/assets/style.html.f1b613f2.js"><link rel="prefetch" href="/assets/symbol.html.0852590c.js"><link rel="prefetch" href="/assets/404.html.7d858b3d.js"><link rel="prefetch" href="/assets/index.html.b8f4dc6c.js"><link rel="prefetch" href="/assets/Player.html.a3ec5293.js"><link rel="prefetch" href="/assets/Recoreder.html.4a313fb1.js"><link rel="prefetch" href="/assets/UploadImg.html.87e0af10.js"><link rel="prefetch" href="/assets/index.html.fd0e2bca.js"><link rel="prefetch" href="/assets/sidebar.html.d39033a9.js"><link rel="prefetch" href="/assets/index.html.b06f9e60.js"><link rel="prefetch" href="/assets/ES6实用技术点.html.c12c4e25.js"><link rel="prefetch" href="/assets/TypeScript.html.a2348095.js"><link rel="prefetch" href="/assets/Vue2源码解析.html.d5ed4a47.js"><link rel="prefetch" href="/assets/Vue2组件升级.html.66a1acd0.js"><link rel="prefetch" href="/assets/base.html.d586e61b.js"><link rel="prefetch" href="/assets/miniprogram.html.2e784c3a.js"><link rel="prefetch" href="/assets/stylus.html.3e23af6d.js"><link rel="prefetch" href="/assets/tree.html.6b6486f9.js"><link rel="prefetch" href="/assets/vue组件库开发指南.html.5af5f0bc.js"><link rel="prefetch" href="/assets/前端加密方案.html.d920946e.js"><link rel="prefetch" href="/assets/前端水印实现方案.html.95c37e63.js"><link rel="prefetch" href="/assets/Charles.html.5dab010e.js"><link rel="prefetch" href="/assets/Docker.html.67dc7132.js"><link rel="prefetch" href="/assets/Jmeter.html.2c85048b.js"><link rel="prefetch" href="/assets/Magnet.html.4e42947c.js"><link rel="prefetch" href="/assets/Markdown.html.ac23a9e6.js"><link rel="prefetch" href="/assets/Mocha.html.b320a7ef.js"><link rel="prefetch" href="/assets/Mockjs.html.878cd15b.js"><link rel="prefetch" href="/assets/Nodeppt.html.0e3d28b7.js"><link rel="prefetch" href="/assets/Oh-My-ZSH.html.64b33ed4.js"><link rel="prefetch" href="/assets/Presentation.html.4713d150.js"><link rel="prefetch" href="/assets/Python.html.aa9e2686.js"><link rel="prefetch" href="/assets/Shell.html.77742c24.js"><link rel="prefetch" href="/assets/Vuepress.html.d2a542af.js"><link rel="prefetch" href="/assets/nginx.html.9983d902.js"><link rel="prefetch" href="/assets/iconPreview.html.02d8125a.js"><link rel="prefetch" href="/assets/acknowledgment.html.fba43df6.js"><link rel="prefetch" href="/assets/array.html.760f62dc.js"><link rel="prefetch" href="/assets/arraybuffer.html.5a02ce76.js"><link rel="prefetch" href="/assets/async-iterator.html.b1be22ef.js"><link rel="prefetch" href="/assets/async.html.91b83eeb.js"><link rel="prefetch" href="/assets/class-extends.html.5ac5de42.js"><link rel="prefetch" href="/assets/class.html.ddaf1d36.js"><link rel="prefetch" href="/assets/decorator.html.85255036.js"><link rel="prefetch" href="/assets/destructuring.html.d4792705.js"><link rel="prefetch" href="/assets/fp.html.b1114572.js"><link rel="prefetch" href="/assets/function.html.68900927.js"><link rel="prefetch" href="/assets/generator-async.html.3a0a0288.js"><link rel="prefetch" href="/assets/generator.html.e8b19ba7.js"><link rel="prefetch" href="/assets/intro.html.d3143073.js"><link rel="prefetch" href="/assets/iterator.html.6c57bfea.js"><link rel="prefetch" href="/assets/let.html.248d352e.js"><link rel="prefetch" href="/assets/mixin.html.0c1a110d.js"><link rel="prefetch" href="/assets/module-loader.html.c660e376.js"><link rel="prefetch" href="/assets/module.html.cdb546ea.js"><link rel="prefetch" href="/assets/number.html.c42525a0.js"><link rel="prefetch" href="/assets/object-methods.html.4f1c2c4c.js"><link rel="prefetch" href="/assets/object.html.8595fcc2.js"><link rel="prefetch" href="/assets/operator.html.125a2036.js"><link rel="prefetch" href="/assets/promise.html.a1207d06.js"><link rel="prefetch" href="/assets/proposals.html.a8026abf.js"><link rel="prefetch" href="/assets/proxy.html.87aa3e87.js"><link rel="prefetch" href="/assets/reference.html.09af1f77.js"><link rel="prefetch" href="/assets/reflect.html.00c432a8.js"><link rel="prefetch" href="/assets/regex.html.6b3a627b.js"><link rel="prefetch" href="/assets/set-map.html.67fb696a.js"><link rel="prefetch" href="/assets/simd.html.592ce5d9.js"><link rel="prefetch" href="/assets/spec.html.4b3d3ae9.js"><link rel="prefetch" href="/assets/string-methods.html.b5a43bc8.js"><link rel="prefetch" href="/assets/string.html.17bb783b.js"><link rel="prefetch" href="/assets/style.html.f130becb.js"><link rel="prefetch" href="/assets/symbol.html.83148a78.js"><link rel="prefetch" href="/assets/404.html.0ef179d0.js"><link rel="prefetch" href="/assets/404.4dc393e2.js"><link rel="prefetch" href="/assets/Layout.a02c5aac.js"><link rel="prefetch" href="/assets/recorder.a7d4e42b.js"><link rel="prefetch" href="/assets/uploadImg.017c1a5b.js"><link rel="prefetch" href="/assets/audio-player.5b63463e.js"><link rel="prefetch" href="/assets/demo.12d735cc.js"><link rel="prefetch" href="/assets/icon-preview.e2a1a6b0.js"><link rel="prefetch" href="/assets/my-component.05ec2d39.js">
    <link rel="stylesheet" href="/assets/style.b6cd18b1.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/images/logo.svg" alt="学无止境"><span class="site-name can-hide">学无止境</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="新手起步"><span class="title">新手起步</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="新手起步"><span class="title">新手起步</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/study/ES6%E5%AE%9E%E7%94%A8%E6%8A%80%E6%9C%AF%E7%82%B9.html" class="" aria-label="ES6实用技术点"><!--[--><!--]--> ES6实用技术点 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/TypeScript.html" class="" aria-label="TypeScript"><!--[--><!--]--> TypeScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/Vue2%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90.html" class="" aria-label="Vue2源码解析"><!--[--><!--]--> Vue2源码解析 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/Vue2%E7%BB%84%E4%BB%B6%E5%8D%87%E7%BA%A7.html" class="" aria-label="Vue2组件升级"><!--[--><!--]--> Vue2组件升级 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/base.html" class="" aria-label="基础技能"><!--[--><!--]--> 基础技能 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/miniprogram.html" class="" aria-label="微信小程序开发"><!--[--><!--]--> 微信小程序开发 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/stylus.html" class="" aria-label="CSS预处理 - Stylus"><!--[--><!--]--> CSS预处理 - Stylus <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/tree.html" class="" aria-label="自动生成目录结构"><!--[--><!--]--> 自动生成目录结构 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/study/vue3.html" class="router-link-active router-link-exact-active router-link-active" aria-label="Vue3 with Vite"><!--[--><!--]--> Vue3 with Vite <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/vue%E7%BB%84%E4%BB%B6%E5%BA%93%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97.html" class="" aria-label="vue组件库开发指南"><!--[--><!--]--> vue组件库开发指南 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/%E5%89%8D%E7%AB%AF%E5%8A%A0%E5%AF%86%E6%96%B9%E6%A1%88.html" class="" aria-label="前端加密方案"><!--[--><!--]--> 前端加密方案 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/%E5%89%8D%E7%AB%AF%E6%B0%B4%E5%8D%B0%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%A1%88.html" class="" aria-label="前端水印实现方案"><!--[--><!--]--> 前端水印实现方案 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="实用组件"><span class="title">实用组件</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="实用组件"><span class="title">实用组件</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/components/Player.html" class="" aria-label="音频播放器"><!--[--><!--]--> 音频播放器 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/components/Recoreder.html" class="" aria-label="在线录音"><!--[--><!--]--> 在线录音 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/components/UploadImg.html" class="" aria-label="图片上传"><!--[--><!--]--> 图片上传 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="实用工具"><span class="title">实用工具</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="实用工具"><span class="title">实用工具</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/tools/Charles.html" class="" aria-label="Charles"><!--[--><!--]--> Charles <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Docker.html" class="" aria-label="Docker"><!--[--><!--]--> Docker <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Jmeter.html" class="" aria-label="Jmeter"><!--[--><!--]--> Jmeter <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Magnet.html" class="" aria-label="Magnet"><!--[--><!--]--> Magnet <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Markdown.html" class="" aria-label="Markdown"><!--[--><!--]--> Markdown <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Mocha.html" class="" aria-label="Mocha"><!--[--><!--]--> Mocha <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Mockjs.html" class="" aria-label="Mockjs"><!--[--><!--]--> Mockjs <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Nodeppt.html" class="" aria-label="Nodeppt"><!--[--><!--]--> Nodeppt <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Oh-My-ZSH.html" class="" aria-label="Oh My ZSH!"><!--[--><!--]--> Oh My ZSH! <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Presentation.html" class="" aria-label="Presentation"><!--[--><!--]--> Presentation <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Python.html" class="" aria-label="Python3"><!--[--><!--]--> Python3 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Shell.html" class="" aria-label="Shell Script"><!--[--><!--]--> Shell Script <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Vuepress.html" class="" aria-label="Vuepress"><!--[--><!--]--> Vuepress <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/nginx.html" class="" aria-label="Nginx 入门"><!--[--><!--]--> Nginx 入门 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/mac/" class="" aria-label="Mac小技巧"><!--[--><!--]--> Mac小技巧 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/utils/iconPreview.md" class="" aria-label="字体文件预览"><!--[--><!--]--> 字体文件预览 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/es6tutorial/" class="" aria-label="ES6 入门教程"><!--[--><!--]--> ES6 入门教程 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="参考资料"><span class="title">参考资料</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="参考资料"><span class="title">参考资料</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://cn.vuejs.org" rel="noopener noreferrer" target="_blank" aria-label="Vue"><!--[--><!--]--> Vue <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://vant-contrib.gitee.io/vant/#/zh-CN/" rel="noopener noreferrer" target="_blank" aria-label="Vant"><!--[--><!--]--> Vant <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://developers.weixin.qq.com/miniprogram/dev/framework/" rel="noopener noreferrer" target="_blank" aria-label="miniprogram"><!--[--><!--]--> miniprogram <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://developer.mozilla.org" rel="noopener noreferrer" target="_blank" aria-label="MDN Web Docs"><!--[--><!--]--> MDN Web Docs <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="站内搜索" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="新手起步"><span class="title">新手起步</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="新手起步"><span class="title">新手起步</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/study/ES6%E5%AE%9E%E7%94%A8%E6%8A%80%E6%9C%AF%E7%82%B9.html" class="" aria-label="ES6实用技术点"><!--[--><!--]--> ES6实用技术点 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/TypeScript.html" class="" aria-label="TypeScript"><!--[--><!--]--> TypeScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/Vue2%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90.html" class="" aria-label="Vue2源码解析"><!--[--><!--]--> Vue2源码解析 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/Vue2%E7%BB%84%E4%BB%B6%E5%8D%87%E7%BA%A7.html" class="" aria-label="Vue2组件升级"><!--[--><!--]--> Vue2组件升级 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/base.html" class="" aria-label="基础技能"><!--[--><!--]--> 基础技能 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/miniprogram.html" class="" aria-label="微信小程序开发"><!--[--><!--]--> 微信小程序开发 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/stylus.html" class="" aria-label="CSS预处理 - Stylus"><!--[--><!--]--> CSS预处理 - Stylus <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/tree.html" class="" aria-label="自动生成目录结构"><!--[--><!--]--> 自动生成目录结构 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/study/vue3.html" class="router-link-active router-link-exact-active router-link-active" aria-label="Vue3 with Vite"><!--[--><!--]--> Vue3 with Vite <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/vue%E7%BB%84%E4%BB%B6%E5%BA%93%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97.html" class="" aria-label="vue组件库开发指南"><!--[--><!--]--> vue组件库开发指南 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/%E5%89%8D%E7%AB%AF%E5%8A%A0%E5%AF%86%E6%96%B9%E6%A1%88.html" class="" aria-label="前端加密方案"><!--[--><!--]--> 前端加密方案 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/%E5%89%8D%E7%AB%AF%E6%B0%B4%E5%8D%B0%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%A1%88.html" class="" aria-label="前端水印实现方案"><!--[--><!--]--> 前端水印实现方案 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="实用组件"><span class="title">实用组件</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="实用组件"><span class="title">实用组件</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/components/Player.html" class="" aria-label="音频播放器"><!--[--><!--]--> 音频播放器 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/components/Recoreder.html" class="" aria-label="在线录音"><!--[--><!--]--> 在线录音 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/components/UploadImg.html" class="" aria-label="图片上传"><!--[--><!--]--> 图片上传 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="实用工具"><span class="title">实用工具</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="实用工具"><span class="title">实用工具</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/tools/Charles.html" class="" aria-label="Charles"><!--[--><!--]--> Charles <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Docker.html" class="" aria-label="Docker"><!--[--><!--]--> Docker <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Jmeter.html" class="" aria-label="Jmeter"><!--[--><!--]--> Jmeter <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Magnet.html" class="" aria-label="Magnet"><!--[--><!--]--> Magnet <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Markdown.html" class="" aria-label="Markdown"><!--[--><!--]--> Markdown <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Mocha.html" class="" aria-label="Mocha"><!--[--><!--]--> Mocha <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Mockjs.html" class="" aria-label="Mockjs"><!--[--><!--]--> Mockjs <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Nodeppt.html" class="" aria-label="Nodeppt"><!--[--><!--]--> Nodeppt <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Oh-My-ZSH.html" class="" aria-label="Oh My ZSH!"><!--[--><!--]--> Oh My ZSH! <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Presentation.html" class="" aria-label="Presentation"><!--[--><!--]--> Presentation <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Python.html" class="" aria-label="Python3"><!--[--><!--]--> Python3 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Shell.html" class="" aria-label="Shell Script"><!--[--><!--]--> Shell Script <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Vuepress.html" class="" aria-label="Vuepress"><!--[--><!--]--> Vuepress <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/nginx.html" class="" aria-label="Nginx 入门"><!--[--><!--]--> Nginx 入门 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/mac/" class="" aria-label="Mac小技巧"><!--[--><!--]--> Mac小技巧 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/utils/iconPreview.md" class="" aria-label="字体文件预览"><!--[--><!--]--> 字体文件预览 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/es6tutorial/" class="" aria-label="ES6 入门教程"><!--[--><!--]--> ES6 入门教程 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="参考资料"><span class="title">参考资料</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="参考资料"><span class="title">参考资料</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://cn.vuejs.org" rel="noopener noreferrer" target="_blank" aria-label="Vue"><!--[--><!--]--> Vue <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://vant-contrib.gitee.io/vant/#/zh-CN/" rel="noopener noreferrer" target="_blank" aria-label="Vant"><!--[--><!--]--> Vant <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://developers.weixin.qq.com/miniprogram/dev/framework/" rel="noopener noreferrer" target="_blank" aria-label="miniprogram"><!--[--><!--]--> miniprogram <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://developer.mozilla.org" rel="noopener noreferrer" target="_blank" aria-label="MDN Web Docs"><!--[--><!--]--> MDN Web Docs <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active">新手起步 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/study/ES6%E5%AE%9E%E7%94%A8%E6%8A%80%E6%9C%AF%E7%82%B9.html" class="sidebar-item" aria-label="ES6实用技术点"><!--[--><!--]--> ES6实用技术点 <!--[--><!--]--></a><!----></li><li><a href="/study/TypeScript.html" class="sidebar-item" aria-label="TypeScript"><!--[--><!--]--> TypeScript <!--[--><!--]--></a><!----></li><li><a href="/study/Vue2%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90.html" class="sidebar-item" aria-label="Vue2源码解析"><!--[--><!--]--> Vue2源码解析 <!--[--><!--]--></a><!----></li><li><a href="/study/Vue2%E7%BB%84%E4%BB%B6%E5%8D%87%E7%BA%A7.html" class="sidebar-item" aria-label="Vue2组件升级"><!--[--><!--]--> Vue2组件升级 <!--[--><!--]--></a><!----></li><li><a href="/study/base.html" class="sidebar-item" aria-label="基础技能"><!--[--><!--]--> 基础技能 <!--[--><!--]--></a><!----></li><li><a href="/study/miniprogram.html" class="sidebar-item" aria-label="微信小程序开发"><!--[--><!--]--> 微信小程序开发 <!--[--><!--]--></a><!----></li><li><a href="/study/stylus.html" class="sidebar-item" aria-label="CSS预处理 - Stylus"><!--[--><!--]--> CSS预处理 - Stylus <!--[--><!--]--></a><!----></li><li><a href="/study/tree.html" class="sidebar-item" aria-label="自动生成目录结构"><!--[--><!--]--> 自动生成目录结构 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/vue3.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="Vue3 with Vite"><!--[--><!--]--> Vue3 with Vite <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/study/vue3.html#vue-官方的项目脚手架工具" class="router-link-active router-link-exact-active sidebar-item" aria-label="Vue 官方的项目脚手架工具"><!--[--><!--]--> Vue 官方的项目脚手架工具 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/vue3.html#vscode-plugins" class="router-link-active router-link-exact-active sidebar-item" aria-label="VSCode Plugins"><!--[--><!--]--> VSCode Plugins <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/vue3.html#路由懒加载" class="router-link-active router-link-exact-active sidebar-item" aria-label="路由懒加载"><!--[--><!--]--> 路由懒加载 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/vue3.html#状态管理-pinia" class="router-link-active router-link-exact-active sidebar-item" aria-label="状态管理 Pinia"><!--[--><!--]--> 状态管理 Pinia <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/vue3.html#加载静态资源" class="router-link-active router-link-exact-active sidebar-item" aria-label="加载静态资源"><!--[--><!--]--> 加载静态资源 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/vue3.html#搭配-typescript-使用-vue" class="router-link-active router-link-exact-active sidebar-item" aria-label="搭配 TypeScript 使用 Vue"><!--[--><!--]--> 搭配 TypeScript 使用 Vue <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/study/vue3.html#配置文件" class="router-link-active router-link-exact-active sidebar-item" aria-label="配置文件"><!--[--><!--]--> 配置文件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/vue3.html#在单文件组件中的用法" class="router-link-active router-link-exact-active sidebar-item" aria-label="在单文件组件中的用法"><!--[--><!--]--> 在单文件组件中的用法 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/vue3.html#全局变量支持" class="router-link-active router-link-exact-active sidebar-item" aria-label="全局变量支持"><!--[--><!--]--> 全局变量支持 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/study/vue3.html#typescript-与组合式-api" class="router-link-active router-link-exact-active sidebar-item" aria-label="TypeScript 与组合式 API"><!--[--><!--]--> TypeScript 与组合式 API <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/study/vue3.html#为组件的-prop-标注类型" class="router-link-active router-link-exact-active sidebar-item" aria-label="为组件的 prop 标注类型"><!--[--><!--]--> 为组件的 prop 标注类型 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/vue3.html#为组件的-emit-标注类型" class="router-link-active router-link-exact-active sidebar-item" aria-label="为组件的 emit 标注类型"><!--[--><!--]--> 为组件的 emit 标注类型 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/vue3.html#为-ref-标注类型" class="router-link-active router-link-exact-active sidebar-item" aria-label="为 ref() 标注类型"><!--[--><!--]--> 为 ref() 标注类型 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/vue3.html#为-computed-标注类型" class="router-link-active router-link-exact-active sidebar-item" aria-label="为 computed() 标注类型"><!--[--><!--]--> 为 computed() 标注类型 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/vue3.html#为事件处理器标注类型" class="router-link-active router-link-exact-active sidebar-item" aria-label="为事件处理器标注类型"><!--[--><!--]--> 为事件处理器标注类型 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/vue3.html#为-provide-inject-标注类型" class="router-link-active router-link-exact-active sidebar-item" aria-label="为 provide/inject 标注类型"><!--[--><!--]--> 为 provide/inject 标注类型 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/vue3.html#为模板-ref-标注类型" class="router-link-active router-link-exact-active sidebar-item" aria-label="为模板 ref 标注类型"><!--[--><!--]--> 为模板 ref 标注类型 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/vue3.html#为组件模板-ref-标注类型" class="router-link-active router-link-exact-active sidebar-item" aria-label="为组件模板 ref 标注类型"><!--[--><!--]--> 为组件模板 ref 标注类型 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/study/vue3.html#移动端vant组件库" class="router-link-active router-link-exact-active sidebar-item" aria-label="移动端vant组件库"><!--[--><!--]--> 移动端vant组件库 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/study/vue3.html#按需引入组件" class="router-link-active router-link-exact-active sidebar-item" aria-label="按需引入组件"><!--[--><!--]--> 按需引入组件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/vue3.html#浏览器适配" class="router-link-active router-link-exact-active sidebar-item" aria-label="浏览器适配"><!--[--><!--]--> 浏览器适配 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/study/vue3.html#插件" class="router-link-active router-link-exact-active sidebar-item" aria-label="插件"><!--[--><!--]--> 插件 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/study/vue3.html#vue3相关" class="router-link-active router-link-exact-active sidebar-item" aria-label="vue3相关"><!--[--><!--]--> vue3相关 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/vue3.html#vitejs-plugin-legacy" class="router-link-active router-link-exact-active sidebar-item" aria-label="@vitejs/plugin-legacy"><!--[--><!--]--> @vitejs/plugin-legacy <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/vue3.html#vite-plugin-eslint" class="router-link-active router-link-exact-active sidebar-item" aria-label="vite-plugin-eslint"><!--[--><!--]--> vite-plugin-eslint <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/vue3.html#vite-plugin-html" class="router-link-active router-link-exact-active sidebar-item" aria-label="vite-plugin-html"><!--[--><!--]--> vite-plugin-html <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/vue3.html#unplugin-vue-components" class="router-link-active router-link-exact-active sidebar-item" aria-label="unplugin-vue-components"><!--[--><!--]--> unplugin-vue-components <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/study/vue%E7%BB%84%E4%BB%B6%E5%BA%93%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97.html" class="sidebar-item" aria-label="vue组件库开发指南"><!--[--><!--]--> vue组件库开发指南 <!--[--><!--]--></a><!----></li><li><a href="/study/%E5%89%8D%E7%AB%AF%E5%8A%A0%E5%AF%86%E6%96%B9%E6%A1%88.html" class="sidebar-item" aria-label="前端加密方案"><!--[--><!--]--> 前端加密方案 <!--[--><!--]--></a><!----></li><li><a href="/study/%E5%89%8D%E7%AB%AF%E6%B0%B4%E5%8D%B0%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%A1%88.html" class="sidebar-item" aria-label="前端水印实现方案"><!--[--><!--]--> 前端水印实现方案 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="vue3-with-vite" tabindex="-1"><a class="header-anchor" href="#vue3-with-vite" aria-hidden="true">#</a> Vue3 with Vite</h1><h2 id="vue-官方的项目脚手架工具" tabindex="-1"><a class="header-anchor" href="#vue-官方的项目脚手架工具" aria-hidden="true">#</a> Vue 官方的项目脚手架工具</h2><p><a href="https://staging-cn.vuejs.org/guide/quick-start.html" target="_blank" rel="noopener noreferrer">快速开始<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>官方demo选的最佳搭档变成了vite，不知道是否心理作用，打包真的快了呢。。。</p><p>Vue3使用ts重构，开始尝试把js都改成ts</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">npm</span> init vue@latest
</code></pre></div><p>Vue3 + Vue-Router + Pinia</p><h2 id="vscode-plugins" tabindex="-1"><a class="header-anchor" href="#vscode-plugins" aria-hidden="true">#</a> VSCode Plugins</h2><ul><li><p>需要安装vue@3插件Volar</p></li><li><p>vue@2专用的Vetur必须禁用，否则一堆错误提示</p></li><li><p>为了解决ts引入vue的问题，需要安装TypeScript Vue Plugin (Volar)</p></li><li><p><a href="https://marketplace.visualstudio.com/items?itemName=Vue.volar" target="_blank" rel="noopener noreferrer">Volar<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p><a href="https://marketplace.visualstudio.com/items?itemName=Vue.vscode-typescript-vue-plugin" target="_blank" rel="noopener noreferrer">TypeScript Vue Plugin (Volar)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p></li></ul><h2 id="路由懒加载" tabindex="-1"><a class="header-anchor" href="#路由懒加载" aria-hidden="true">#</a> 路由懒加载</h2><p><a href="https://router.vuejs.org/zh/guide/advanced/lazy-loading.html" target="_blank" rel="noopener noreferrer">路由懒加载<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>webpack没有了，但是分块打包vite也是支持的，就是写法好像有点粗糙</p><p>需要通过修改vite打包配置实现</p><p>vite.config.ts</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  build<span class="token operator">:</span> <span class="token punctuation">{</span>
    rollupOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
      output<span class="token operator">:</span> <span class="token punctuation">{</span>
        manualChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token string-property property">&#39;demo&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">&#39;./src/views/HomeView.vue&#39;</span><span class="token punctuation">,</span>
            <span class="token string">&#39;./src/views/AboutView.vue&#39;</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>为了让配置文件优雅些，使用单独的json文件配置分块配置</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token keyword">import</span> manualChunks <span class="token keyword">from</span> <span class="token string">&#39;./manualChunks.json&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  build<span class="token operator">:</span> <span class="token punctuation">{</span>
    rollupOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
      output<span class="token operator">:</span> <span class="token punctuation">{</span>
        manualChunks
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>manualChunks.json</p><div class="language-json ext-json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;demo&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;./src/views/HomeView.vue&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;./src/views/AboutView.vue&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ts配置文件中include也要加上manualChunks.*</p><p>tsconfig.config.json</p><div class="language-json ext-json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;include&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;vite.config.*&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;vitest.config.*&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;cypress.config.*&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;manualChunks.json&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>运行打包命令<code>npm run build</code>就可以发现打包出来的文件名变成demo了</p><div class="language-text ext-text"><pre class="language-text"><code>vite v3.0.4 building for production...
✓ 46 modules transformed.
dist/assets/logo.da9b9095.svg    0.30 KiB
dist/index.html                  0.55 KiB
dist/assets/index.b52b83bf.js    24.62 KiB / gzip: 10.25 KiB
dist/assets/demo.1d23a85f.css    1.10 KiB / gzip: 0.43 KiB
dist/assets/index.bacc5500.css   3.06 KiB / gzip: 1.07 KiB
dist/assets/demo.89f4e38a.js     57.36 KiB / gzip: 22.87 KiB
</code></pre></div><h2 id="状态管理-pinia" tabindex="-1"><a class="header-anchor" href="#状态管理-pinia" aria-hidden="true">#</a> 状态管理 Pinia</h2><p><a href="https://pinia.vuejs.org/" target="_blank" rel="noopener noreferrer">Pinia官网<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>Install</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> pinia
</code></pre></div><p>Usage</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token comment">// main.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createPinia <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span>

<span class="token keyword">const</span> pinia <span class="token operator">=</span> <span class="token function">createPinia</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>pinia<span class="token punctuation">)</span>
</code></pre></div><p>新建文件夹stores，新增一个store，还是习惯用vue2的风格</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token comment">// counter.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> useCounterStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&#39;counter&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    count<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  actions<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">changeCount</span><span class="token punctuation">(</span>payload<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>payload<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>在组件中使用</p><div class="language-vue ext-vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-cell-group</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>状态管理<span class="token punctuation">&quot;</span></span> <span class="token attr-name">inset</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-field</span> <span class="token attr-name">center</span> <span class="token attr-name">:model-value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>count<span class="token punctuation">&quot;</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>计数器<span class="token punctuation">&quot;</span></span> <span class="token attr-name">readonly</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#button</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-button</span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>small<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>reset<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>重置<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-field</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-field</span>
      <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>digit<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">center</span>
      <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>digit<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>整数<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#button</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-button</span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>small<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>update(digit)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>更新<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-field</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-cell-group</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> computed<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useCounterStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/stores/counter&#39;</span>
<span class="token keyword">const</span> digit <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">useCounterStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> store<span class="token punctuation">.</span>count<span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">update</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">val</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> store<span class="token punctuation">.</span><span class="token function">changeCount</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">reset</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> store<span class="token punctuation">.</span><span class="token function">$reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="加载静态资源" tabindex="-1"><a class="header-anchor" href="#加载静态资源" aria-hidden="true">#</a> 加载静态资源</h2><p>默认public下的内容会一并打包，如在项目中调用<code>public/img/avatar.png</code>，直接写<code>/img/avatar.png</code>就可以</p><h2 id="搭配-typescript-使用-vue" tabindex="-1"><a class="header-anchor" href="#搭配-typescript-使用-vue" aria-hidden="true">#</a> 搭配 TypeScript 使用 Vue</h2><p><a href="https://staging-cn.vuejs.org/guide/typescript/overview.html" target="_blank" rel="noopener noreferrer">官方中文文档<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>根据create-vue生成的默认配置，结合vue3开发中加入了一些参数配置</p><h3 id="配置文件" tabindex="-1"><a class="header-anchor" href="#配置文件" aria-hidden="true">#</a> 配置文件</h3><p><a href="https://staging-cn.vuejs.org/guide/typescript/overview.html" target="_blank" rel="noopener noreferrer">搭配 TypeScript 使用 Vue<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>tsconfig.json</p><div class="language-json ext-json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;extends&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@vue/tsconfig/tsconfig.web.json&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;include&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;env.d.ts&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;src/**/*&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;src/**/*.vue&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;baseUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;paths&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;@/*&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;./src/*&quot;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token property">&quot;references&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./tsconfig.config.json&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>tsconfig.config.json</p><div class="language-json ext-json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;extends&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@vue/tsconfig/tsconfig.node.json&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;include&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;vite.config.*&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;vitest.config.*&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;cypress.config.*&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;manualChunks.json&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;composite&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;types&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;node&quot;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>package.json</p><div class="language-json ext-json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;front-h5&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.1.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;private&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;homepage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://babytutu.github.io/front-h5&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vite --host&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;run-p type-check build-only&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;preview&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vite preview --port 4173&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;build-only&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vite build&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type-check&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vue-tsc --noEmit&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eslint . --ext .vue,.js,.jsx,.cjs,.mjs,.ts,.tsx,.cts,.mts --fix --ignore-path .gitignore&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;pinia&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.0.16&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;vue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.2.37&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;vue-router&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.1.2&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;@rushstack/eslint-patch&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.1.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;@types/node&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^16.11.45&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;@vitejs/plugin-vue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.0.1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;@vitejs/plugin-vue-jsx&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.0.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;@vue/eslint-config-typescript&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^11.0.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;@vue/tsconfig&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.1.3&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;eslint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^8.5.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;eslint-plugin-vue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^9.0.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;npm-run-all&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.1.5&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;typescript&quot;</span><span class="token operator">:</span> <span class="token string">&quot;~4.7.4&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;vite&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.0.1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;vue-tsc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.38.8&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="在单文件组件中的用法" tabindex="-1"><a class="header-anchor" href="#在单文件组件中的用法" aria-hidden="true">#</a> 在单文件组件中的用法</h3><p>需要在 script 标签上加上 lang=&quot;ts&quot;</p><h4 id="组合式-api" tabindex="-1"><a class="header-anchor" href="#组合式-api" aria-hidden="true">#</a> 组合式 API</h4><p><a href="https://staging-cn.vuejs.org/api/sfc-script-setup.html" target="_blank" rel="noopener noreferrer">单文件组件 <code>&lt;script setup&gt;</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><div class="language-vue ext-vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">interface</span> <span class="token class-name">Book</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">title</span><span class="token operator">:</span> string
  <span class="token literal-property property">author</span><span class="token operator">:</span> string
  <span class="token literal-property property">year</span><span class="token operator">:</span> number
<span class="token punctuation">}</span>


defineProps<span class="token operator">&lt;</span><span class="token punctuation">{</span>
  <span class="token literal-property property">title</span><span class="token operator">:</span> string<span class="token punctuation">,</span>
  <span class="token literal-property property">list</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  id<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&#39;id&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="选项式-api" tabindex="-1"><a class="header-anchor" href="#选项式-api" aria-hidden="true">#</a> 选项式 API</h4><p>对 prop 的类型推导需要用 defineComponent() 来包装组件</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// 启用了类型推导</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> String<span class="token punctuation">,</span>
    id<span class="token operator">:</span> <span class="token punctuation">[</span>Number<span class="token punctuation">,</span> String<span class="token punctuation">]</span><span class="token punctuation">,</span>
    msg<span class="token operator">:</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> String<span class="token punctuation">,</span> required<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    metadata<span class="token operator">:</span> <span class="token keyword">null</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>使用 PropType 进行类型校验</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> PropType <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">interface</span> <span class="token class-name">Book</span> <span class="token punctuation">{</span>
  title<span class="token operator">:</span> <span class="token builtin">string</span>
  author<span class="token operator">:</span> <span class="token builtin">string</span>
  year<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    book<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 提供相对 `Object` 更确定的类型</span>
      type<span class="token operator">:</span> Object <span class="token keyword">as</span> PropType<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span><span class="token punctuation">,</span>
      required<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="全局变量支持" tabindex="-1"><a class="header-anchor" href="#全局变量支持" aria-hidden="true">#</a> 全局变量支持</h3><p>vue3中定义全局变量</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">&#39;axios&#39;</span>

app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>globalProperties<span class="token punctuation">.</span>$axios <span class="token operator">=</span> axios
</code></pre></div><p>新增 global.d.ts</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">&#39;axios&#39;</span>

<span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token string">&#39;vue&#39;</span> <span class="token punctuation">{</span>
  <span class="token keyword">interface</span> <span class="token class-name">ComponentCustomProperties</span> <span class="token punctuation">{</span>
    $axios<span class="token operator">:</span> <span class="token keyword">typeof</span> axios<span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 定义模块，挂在window下的全局变量</span>
<span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token string">&#39;lrz&#39;</span>

<span class="token keyword">interface</span> <span class="token class-name">Window</span> <span class="token punctuation">{</span>
  xxx<span class="token operator">:</span> <span class="token builtin">any</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="typescript-与组合式-api" tabindex="-1"><a class="header-anchor" href="#typescript-与组合式-api" aria-hidden="true">#</a> TypeScript 与组合式 API</h2><p><a href="https://staging-cn.vuejs.org/guide/typescript/composition-api.html" target="_blank" rel="noopener noreferrer">官方中文文档<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="为组件的-prop-标注类型" tabindex="-1"><a class="header-anchor" href="#为组件的-prop-标注类型" aria-hidden="true">#</a> 为组件的 prop 标注类型</h3><div class="language-vue ext-vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">const</span> props <span class="token operator">=</span> defineProps<span class="token operator">&lt;</span><span class="token punctuation">{</span>
  <span class="token literal-property property">foo</span><span class="token operator">:</span> string
  bar<span class="token operator">?</span><span class="token operator">:</span> number
<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-vue ext-vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">interface</span> <span class="token class-name">Props</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">foo</span><span class="token operator">:</span> string
  bar<span class="token operator">?</span><span class="token operator">:</span> number
<span class="token punctuation">}</span>

<span class="token keyword">const</span> props <span class="token operator">=</span> defineProps<span class="token operator">&lt;</span>Props<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="prop-默认值-实验性" tabindex="-1"><a class="header-anchor" href="#prop-默认值-实验性" aria-hidden="true">#</a> Prop 默认值(实验性)</h4><p>需要开启reactivityTransform</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// vite.config.js</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// 显式启用，响应性语法糖目前默认是关闭状态，需要你显式选择启用</span>
      <span class="token literal-property property">reactivityTransform</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-vue ext-vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">interface</span> <span class="token class-name">Props</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">foo</span><span class="token operator">:</span> string
  bar<span class="token operator">?</span><span class="token operator">:</span> number
<span class="token punctuation">}</span>

<span class="token comment">// 对 defineProps() 的响应性解构</span>
<span class="token comment">// 默认值会被编译为等价的运行时选项</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> foo<span class="token punctuation">,</span> bar <span class="token operator">=</span> <span class="token number">100</span> <span class="token punctuation">}</span> <span class="token operator">=</span> defineProps<span class="token operator">&lt;</span>Props<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="为组件的-emit-标注类型" tabindex="-1"><a class="header-anchor" href="#为组件的-emit-标注类型" aria-hidden="true">#</a> 为组件的 emit 标注类型</h3><p>可以通过运行时声明或类型声明进行</p><div class="language-vue ext-vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">// 运行时</span>
<span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;change&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;update&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// 基于类型</span>
<span class="token keyword">const</span> emit <span class="token operator">=</span> defineEmits<span class="token operator">&lt;</span><span class="token punctuation">{</span>
  <span class="token punctuation">(</span>e<span class="token operator">:</span> <span class="token string">&#39;change&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">id</span><span class="token operator">:</span> number<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
  <span class="token punctuation">(</span>e<span class="token operator">:</span> <span class="token string">&#39;update&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> string<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="为-ref-标注类型" tabindex="-1"><a class="header-anchor" href="#为-ref-标注类型" aria-hidden="true">#</a> 为 ref() 标注类型</h3><p>ref 会根据初始化时的值推导其类型</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token comment">// 得到的类型：Ref&lt;string | number&gt;</span>
<span class="token keyword">const</span> year <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&#39;2020&#39;</span><span class="token punctuation">)</span>

year<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">2020</span> <span class="token comment">// 成功！</span>

<span class="token comment">// 推导得到的类型：Ref&lt;number | undefined&gt;</span>
<span class="token keyword">const</span> n <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="为-computed-标注类型" tabindex="-1"><a class="header-anchor" href="#为-computed-标注类型" aria-hidden="true">#</a> 为 computed() 标注类型</h3><p>computed() 会从其计算函数的返回值上推导出类型</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token keyword">const</span> double <span class="token operator">=</span> <span class="token generic-function"><span class="token function">computed</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 若返回值不是 number 类型则会报错</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="为事件处理器标注类型" tabindex="-1"><a class="header-anchor" href="#为事件处理器标注类型" aria-hidden="true">#</a> 为事件处理器标注类型</h3><div class="language-vue ext-vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">function</span> <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// `event` 隐式地标注为 `any` 类型</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleChange<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">handleChange</span><span class="token punctuation">(</span>event<span class="token operator">:</span> Event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target <span class="token keyword">as</span> HTMLInputElement<span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="为-provide-inject-标注类型" tabindex="-1"><a class="header-anchor" href="#为-provide-inject-标注类型" aria-hidden="true">#</a> 为 provide/inject 标注类型</h3><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> provide<span class="token punctuation">,</span> inject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> InjectionKey <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">const</span> key <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> InjectionKey<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span>

<span class="token function">provide</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token string">&#39;foo&#39;</span><span class="token punctuation">)</span> <span class="token comment">// 若提供的是非字符串值会导致错误</span>

<span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token comment">// foo 的类型：string | undefined</span>
</code></pre></div><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token generic-function"><span class="token function">inject</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&#39;foo&#39;</span><span class="token punctuation">)</span> <span class="token comment">// 类型：string | undefined</span>
</code></pre></div><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token generic-function"><span class="token function">inject</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&#39;foo&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;bar&#39;</span><span class="token punctuation">)</span> <span class="token comment">// 类型：string</span>
</code></pre></div><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span><span class="token string">&#39;foo&#39;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">string</span> <span class="token comment">// 强制转换该值</span>
</code></pre></div><h3 id="为模板-ref-标注类型" tabindex="-1"><a class="header-anchor" href="#为模板-ref-标注类型" aria-hidden="true">#</a> 为模板 ref 标注类型</h3><div class="language-vue ext-vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> onMounted <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">const</span> el <span class="token operator">=</span> ref<span class="token operator">&lt;</span>HTMLInputElement <span class="token operator">|</span> <span class="token keyword">null</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  el<span class="token punctuation">.</span>value<span class="token operator">?.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>el<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="为组件模板-ref-标注类型" tabindex="-1"><a class="header-anchor" href="#为组件模板-ref-标注类型" aria-hidden="true">#</a> 为组件模板 ref 标注类型</h3><p>使用子组件的方法，子组件defineExpose方法名</p><div class="language-vue ext-vue"><pre class="language-vue"><code><span class="token comment">&lt;!-- MyModal.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">const</span> isContentShown <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">open</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>isContentShown<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>

<span class="token function">defineExpose</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  open
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>父组件调用</p><div class="language-vue ext-vue"><pre class="language-vue"><code><span class="token comment">&lt;!-- App.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> MyModal <span class="token keyword">from</span> <span class="token string">&#39;./MyModal.vue&#39;</span>

<span class="token keyword">const</span> modal <span class="token operator">=</span> ref<span class="token operator">&lt;</span>InstanceType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> MyModal<span class="token operator">&gt;</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">openModal</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  modal<span class="token punctuation">.</span>value<span class="token operator">?.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="移动端vant组件库" tabindex="-1"><a class="header-anchor" href="#移动端vant组件库" aria-hidden="true">#</a> 移动端vant组件库</h2><h3 id="按需引入组件" tabindex="-1"><a class="header-anchor" href="#按需引入组件" aria-hidden="true">#</a> 按需引入组件</h3><p>推荐安装 <a href="https://www.npmjs.com/package/unplugin-vue-components" target="_blank" rel="noopener noreferrer">unplugin-vue-components<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 插件</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> unplugin-vue-components -D
</code></pre></div><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// vite.config.js</span>
<span class="token keyword">import</span> vue <span class="token keyword">from</span> <span class="token string">&#39;@vitejs/plugin-vue&#39;</span>
<span class="token keyword">import</span> Components <span class="token keyword">from</span> <span class="token string">&#39;unplugin-vue-components/vite&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> VantResolver <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;unplugin-vue-components/resolvers&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">Components</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">resolvers</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">VantResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>在 <code>&lt;script setup&gt;</code> 中可以直接使用 Vant 组件，不需要进行组件注册。</p><h4 id="引入函数组件的样式" tabindex="-1"><a class="header-anchor" href="#引入函数组件的样式" aria-hidden="true">#</a> 引入函数组件的样式</h4><p><a href="https://vant-contrib.gitee.io/vant/#/zh-CN/quickstart" target="_blank" rel="noopener noreferrer">快速上手<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>Vant 中有个别组件是以函数的形式提供的，包括 Toast，Dialog，Notify 和 ImagePreview 组件。在使用函数组件时，unplugin-vue-components 无法自动引入对应的样式，因此需要手动引入样式。</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token comment">// Toast</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Toast <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vant&#39;</span>
<span class="token keyword">import</span> <span class="token string">&#39;vant/es/toast/style&#39;</span>

<span class="token comment">// Dialog</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Dialog <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vant&#39;</span>
<span class="token keyword">import</span> <span class="token string">&#39;vant/es/dialog/style&#39;</span>

<span class="token comment">// Notify</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Notify <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vant&#39;</span>
<span class="token keyword">import</span> <span class="token string">&#39;vant/es/notify/style&#39;</span>

<span class="token comment">// ImagePreview</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ImagePreview <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vant&#39;</span>
<span class="token keyword">import</span> <span class="token string">&#39;vant/es/image-preview/style&#39;</span>
</code></pre></div><h3 id="浏览器适配" tabindex="-1"><a class="header-anchor" href="#浏览器适配" aria-hidden="true">#</a> 浏览器适配</h3><p>Viewport 布局</p><p>vant官方推荐的postcss-px-to-viewport不支持postcss8，找到一个支持的</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> postcss-px-to-viewport-8-plugin -D
</code></pre></div><p>新增配置文件<code>postcss.config.js</code></p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@see</span> https://youzan.github.io/vant/#/zh-CN/advanced-usage
 * <span class="token keyword">@see</span> https://www.npmjs.com/package/postcss-px-to-viewport-8-plugin
 */</span>
 module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&#39;postcss-px-to-viewport-8-plugin&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">viewportWidth</span><span class="token operator">:</span> <span class="token number">375</span><span class="token punctuation">,</span>
      <span class="token literal-property property">replace</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="插件" tabindex="-1"><a class="header-anchor" href="#插件" aria-hidden="true">#</a> 插件</h2><p><a href="https://cn.vitejs.dev/plugins/" target="_blank" rel="noopener noreferrer">Vite官方插件<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><ul><li><a href="https://github.com/vitejs/vite/tree/main/packages/plugin-vue" target="_blank" rel="noopener noreferrer">@vitejs/plugin-vue<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://github.com/vitejs/vite/tree/main/packages/plugin-vue-jsx" target="_blank" rel="noopener noreferrer">@vitejs/plugin-vue-jsx<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://github.com/vitejs/vite/tree/main/packages/plugin-legacy" target="_blank" rel="noopener noreferrer">@vitejs/plugin-legacy<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://github.com/gxmari007/vite-plugin-eslint" target="_blank" rel="noopener noreferrer">vite-plugin-eslint<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://github.com/vbenjs/vite-plugin-html/" target="_blank" rel="noopener noreferrer">vite-plugin-html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://www.npmjs.com/package/unplugin-vue-components" target="_blank" rel="noopener noreferrer">unplugin-vue-components<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><h3 id="vue3相关" tabindex="-1"><a class="header-anchor" href="#vue3相关" aria-hidden="true">#</a> vue3相关</h3><p>Install</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> @vitejs/plugin-vue @vitejs/plugin-vue-jsx -D
</code></pre></div><p>Usage</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// vite.config.js</span>
<span class="token keyword">import</span> vue <span class="token keyword">from</span> <span class="token string">&#39;@vitejs/plugin-vue&#39;</span>
<span class="token keyword">import</span> vueJsx <span class="token keyword">from</span> <span class="token string">&#39;@vitejs/plugin-vue-jsx&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">vueJsx</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="vitejs-plugin-legacy" tabindex="-1"><a class="header-anchor" href="#vitejs-plugin-legacy" aria-hidden="true">#</a> @vitejs/plugin-legacy</h3><p>Install</p><p>还需要安装terser，用于代码压缩</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> @vitejs/plugin-legacy terser -D
</code></pre></div><p>Usage</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// vite.config.js</span>
<span class="token keyword">import</span> legacy <span class="token keyword">from</span> <span class="token string">&#39;@vitejs/plugin-legacy&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">legacy</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">targets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;defaults&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;not IE 11&#39;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="vite-plugin-eslint" tabindex="-1"><a class="header-anchor" href="#vite-plugin-eslint" aria-hidden="true">#</a> vite-plugin-eslint</h3><p>让eslint规则生效，create-vue竟然只配置不在开发时报错，需要手动加上插件</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> eslint vite-plugin-eslint -D
</code></pre></div><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token comment">// vite.config.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vite&#39;</span>
<span class="token keyword">import</span> eslint <span class="token keyword">from</span> <span class="token string">&#39;vite-plugin-eslint&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">eslint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>搭配prettier使用</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> prettier @vue/eslint-config-prettier -D
</code></pre></div><p>配置文件，习惯单引号和无分号，需要在2边都进行配置</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// .prettierrc.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">semi</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">singleQuote</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// .eslintrc.cjs</span>
<span class="token comment">/* eslint-env node */</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@rushstack/eslint-patch/modern-module-resolution&#39;</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">root</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">env</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">node</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&#39;plugin:vue/vue3-essential&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;eslint:recommended&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;@vue/eslint-config-typescript/recommended&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;@vue/eslint-config-prettier&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&#39;@typescript-eslint/no-explicit-any&#39;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string-property property">&#39;vue/multi-word-component-name&#39;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token literal-property property">semi</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token literal-property property">quotes</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&#39;double&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="vite-plugin-html" tabindex="-1"><a class="header-anchor" href="#vite-plugin-html" aria-hidden="true">#</a> vite-plugin-html</h3><p><a href="https://github.com/vbenjs/vite-plugin-html/blob/main/README.zh_CN.md" target="_blank" rel="noopener noreferrer">github<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>安装</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> vite-plugin-html -D
</code></pre></div><p>使用</p><p>在 index.html 中增加 EJS 标签</p><div class="language-html ext-html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/favicon.ico<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>&lt;%- title %&gt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>在 vite.config.ts 中配置</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createHtmlPlugin <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vite-plugin-html&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">createHtmlPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      minify<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token doc-comment comment">/**
       * 在这里写entry后，你将不需要在`index.html`内添加 script 标签，原有标签需要删除
       * <span class="token keyword">@default</span> src/main.ts
       */</span>
      entry<span class="token operator">:</span> <span class="token string">&#39;src/main.ts&#39;</span><span class="token punctuation">,</span>

      <span class="token doc-comment comment">/**
       * 需要注入 index.html ejs 模版的数据
       */</span>
      inject<span class="token operator">:</span> <span class="token punctuation">{</span>
        data<span class="token operator">:</span> <span class="token punctuation">{</span>
          title<span class="token operator">:</span> <span class="token string">&#39;index&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="unplugin-vue-components" tabindex="-1"><a class="header-anchor" href="#unplugin-vue-components" aria-hidden="true">#</a> unplugin-vue-components</h3><p>组件按需引入，自定义组件自动引入，会在根目录自动生成components.d.ts文件</p><blockquote><p>Once the setup is done, a components.d.ts will be generated and updates automatically with the type definitions. Feel free to commit it into git or not as you want.</p></blockquote><p><code>Make sure you also add components.d.ts to your tsconfig.json under includes.</code></p><div class="language-json ext-json"><pre class="language-json"><code><span class="token comment">// tsconfig.json</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;include&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;env.d.ts&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;src/**/*&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;src/**/*.vue&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;components.d.ts&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// vite.config.ts</span>
<span class="token keyword">import</span> vue <span class="token keyword">from</span> <span class="token string">&#39;@vitejs/plugin-vue&#39;</span>
<span class="token keyword">import</span> Components <span class="token keyword">from</span> <span class="token string">&#39;unplugin-vue-components/vite&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> VantResolver <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;unplugin-vue-components/resolvers&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// 显式启用，响应性语法糖目前默认是关闭状态，需要你显式选择启用</span>
      <span class="token literal-property property">reactivityTransform</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">compilerOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">// 自动识别 T- 开头的文件做为自定义组件</span>
          <span class="token function-variable function">isCustomElement</span><span class="token operator">:</span> <span class="token parameter">tag</span> <span class="token operator">=&gt;</span> tag<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&#39;T-&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">Components</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">resolvers</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">VantResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">dts</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>在 <code>&lt;script setup&gt;</code> 中可以直接使用组件，不需要进行组件注册。</p><div class="language-vue ext-vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-icon</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>chat-o<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/study/tree.html" class="" aria-label="自动生成目录结构"><!--[--><!--]--> 自动生成目录结构 <!--[--><!--]--></a></span><span class="next"><a href="/study/vue%E7%BB%84%E4%BB%B6%E5%BA%93%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97.html" class="" aria-label="vue组件库开发指南"><!--[--><!--]--> vue组件库开发指南 <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.c90e916d.js" defer></script>
  </body>
</html>
