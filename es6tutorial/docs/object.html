<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.49">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>对象的扩展 | 学无止境</title><meta name="description" content="前端开发入门">
    <link rel="modulepreload" href="/assets/app.c90e916d.js"><link rel="modulepreload" href="/assets/object.html.8595fcc2.js"><link rel="modulepreload" href="/assets/object.html.6f44832f.js"><link rel="prefetch" href="/assets/index.html.18541354.js"><link rel="prefetch" href="/assets/Player.html.77798437.js"><link rel="prefetch" href="/assets/Recoreder.html.9ebb5bb1.js"><link rel="prefetch" href="/assets/UploadImg.html.3103f187.js"><link rel="prefetch" href="/assets/index.html.e59756f6.js"><link rel="prefetch" href="/assets/sidebar.html.44293473.js"><link rel="prefetch" href="/assets/index.html.a2797f85.js"><link rel="prefetch" href="/assets/ES6实用技术点.html.8b1e37e0.js"><link rel="prefetch" href="/assets/TypeScript.html.8dc9f476.js"><link rel="prefetch" href="/assets/Vue2源码解析.html.c14deec0.js"><link rel="prefetch" href="/assets/Vue2组件升级.html.f1670933.js"><link rel="prefetch" href="/assets/base.html.c3540643.js"><link rel="prefetch" href="/assets/miniprogram.html.041eacc1.js"><link rel="prefetch" href="/assets/stylus.html.41f961b4.js"><link rel="prefetch" href="/assets/tree.html.0860fe67.js"><link rel="prefetch" href="/assets/vue3.html.f7007f73.js"><link rel="prefetch" href="/assets/vue组件库开发指南.html.c91abf9e.js"><link rel="prefetch" href="/assets/前端加密方案.html.459e61d2.js"><link rel="prefetch" href="/assets/前端水印实现方案.html.d82f268e.js"><link rel="prefetch" href="/assets/Charles.html.7b5ca0b4.js"><link rel="prefetch" href="/assets/Docker.html.4aa9a689.js"><link rel="prefetch" href="/assets/Jmeter.html.ddde4635.js"><link rel="prefetch" href="/assets/Magnet.html.c71b889e.js"><link rel="prefetch" href="/assets/Markdown.html.b84b2273.js"><link rel="prefetch" href="/assets/Mocha.html.fa45efa7.js"><link rel="prefetch" href="/assets/Mockjs.html.70803c15.js"><link rel="prefetch" href="/assets/Nodeppt.html.a7b24c58.js"><link rel="prefetch" href="/assets/Oh-My-ZSH.html.34499c1a.js"><link rel="prefetch" href="/assets/Presentation.html.cb335719.js"><link rel="prefetch" href="/assets/Python.html.79a5dad7.js"><link rel="prefetch" href="/assets/Shell.html.4e0f71d6.js"><link rel="prefetch" href="/assets/Vuepress.html.e697685b.js"><link rel="prefetch" href="/assets/nginx.html.fa9a806d.js"><link rel="prefetch" href="/assets/iconPreview.html.c87a015e.js"><link rel="prefetch" href="/assets/acknowledgment.html.1baf2850.js"><link rel="prefetch" href="/assets/array.html.4bb93bf4.js"><link rel="prefetch" href="/assets/arraybuffer.html.f4ea93a5.js"><link rel="prefetch" href="/assets/async-iterator.html.a2047579.js"><link rel="prefetch" href="/assets/async.html.96f025a9.js"><link rel="prefetch" href="/assets/class-extends.html.f3133f63.js"><link rel="prefetch" href="/assets/class.html.14c8e856.js"><link rel="prefetch" href="/assets/decorator.html.a12651ec.js"><link rel="prefetch" href="/assets/destructuring.html.1583d3f1.js"><link rel="prefetch" href="/assets/fp.html.2180468e.js"><link rel="prefetch" href="/assets/function.html.29f6e41c.js"><link rel="prefetch" href="/assets/generator-async.html.15e19e28.js"><link rel="prefetch" href="/assets/generator.html.16dc11c8.js"><link rel="prefetch" href="/assets/intro.html.d91df46b.js"><link rel="prefetch" href="/assets/iterator.html.abd55d29.js"><link rel="prefetch" href="/assets/let.html.c926d58f.js"><link rel="prefetch" href="/assets/mixin.html.a954bb0a.js"><link rel="prefetch" href="/assets/module-loader.html.0aebe511.js"><link rel="prefetch" href="/assets/module.html.c2b9aaac.js"><link rel="prefetch" href="/assets/number.html.a52237d7.js"><link rel="prefetch" href="/assets/object-methods.html.83472219.js"><link rel="prefetch" href="/assets/operator.html.52f7bee3.js"><link rel="prefetch" href="/assets/promise.html.e132d802.js"><link rel="prefetch" href="/assets/proposals.html.3d0ba209.js"><link rel="prefetch" href="/assets/proxy.html.b3b4f49e.js"><link rel="prefetch" href="/assets/reference.html.97223488.js"><link rel="prefetch" href="/assets/reflect.html.8c03c197.js"><link rel="prefetch" href="/assets/regex.html.11de44f4.js"><link rel="prefetch" href="/assets/set-map.html.e2a6aa04.js"><link rel="prefetch" href="/assets/simd.html.d05a560f.js"><link rel="prefetch" href="/assets/spec.html.61ef4f40.js"><link rel="prefetch" href="/assets/string-methods.html.f306e10d.js"><link rel="prefetch" href="/assets/string.html.5597fb3f.js"><link rel="prefetch" href="/assets/style.html.f1b613f2.js"><link rel="prefetch" href="/assets/symbol.html.0852590c.js"><link rel="prefetch" href="/assets/404.html.7d858b3d.js"><link rel="prefetch" href="/assets/index.html.b8f4dc6c.js"><link rel="prefetch" href="/assets/Player.html.a3ec5293.js"><link rel="prefetch" href="/assets/Recoreder.html.4a313fb1.js"><link rel="prefetch" href="/assets/UploadImg.html.87e0af10.js"><link rel="prefetch" href="/assets/index.html.fd0e2bca.js"><link rel="prefetch" href="/assets/sidebar.html.d39033a9.js"><link rel="prefetch" href="/assets/index.html.b06f9e60.js"><link rel="prefetch" href="/assets/ES6实用技术点.html.c12c4e25.js"><link rel="prefetch" href="/assets/TypeScript.html.a2348095.js"><link rel="prefetch" href="/assets/Vue2源码解析.html.d5ed4a47.js"><link rel="prefetch" href="/assets/Vue2组件升级.html.66a1acd0.js"><link rel="prefetch" href="/assets/base.html.d586e61b.js"><link rel="prefetch" href="/assets/miniprogram.html.2e784c3a.js"><link rel="prefetch" href="/assets/stylus.html.3e23af6d.js"><link rel="prefetch" href="/assets/tree.html.6b6486f9.js"><link rel="prefetch" href="/assets/vue3.html.772dc275.js"><link rel="prefetch" href="/assets/vue组件库开发指南.html.5af5f0bc.js"><link rel="prefetch" href="/assets/前端加密方案.html.d920946e.js"><link rel="prefetch" href="/assets/前端水印实现方案.html.95c37e63.js"><link rel="prefetch" href="/assets/Charles.html.5dab010e.js"><link rel="prefetch" href="/assets/Docker.html.67dc7132.js"><link rel="prefetch" href="/assets/Jmeter.html.2c85048b.js"><link rel="prefetch" href="/assets/Magnet.html.4e42947c.js"><link rel="prefetch" href="/assets/Markdown.html.ac23a9e6.js"><link rel="prefetch" href="/assets/Mocha.html.b320a7ef.js"><link rel="prefetch" href="/assets/Mockjs.html.878cd15b.js"><link rel="prefetch" href="/assets/Nodeppt.html.0e3d28b7.js"><link rel="prefetch" href="/assets/Oh-My-ZSH.html.64b33ed4.js"><link rel="prefetch" href="/assets/Presentation.html.4713d150.js"><link rel="prefetch" href="/assets/Python.html.aa9e2686.js"><link rel="prefetch" href="/assets/Shell.html.77742c24.js"><link rel="prefetch" href="/assets/Vuepress.html.d2a542af.js"><link rel="prefetch" href="/assets/nginx.html.9983d902.js"><link rel="prefetch" href="/assets/iconPreview.html.02d8125a.js"><link rel="prefetch" href="/assets/acknowledgment.html.fba43df6.js"><link rel="prefetch" href="/assets/array.html.760f62dc.js"><link rel="prefetch" href="/assets/arraybuffer.html.5a02ce76.js"><link rel="prefetch" href="/assets/async-iterator.html.b1be22ef.js"><link rel="prefetch" href="/assets/async.html.91b83eeb.js"><link rel="prefetch" href="/assets/class-extends.html.5ac5de42.js"><link rel="prefetch" href="/assets/class.html.ddaf1d36.js"><link rel="prefetch" href="/assets/decorator.html.85255036.js"><link rel="prefetch" href="/assets/destructuring.html.d4792705.js"><link rel="prefetch" href="/assets/fp.html.b1114572.js"><link rel="prefetch" href="/assets/function.html.68900927.js"><link rel="prefetch" href="/assets/generator-async.html.3a0a0288.js"><link rel="prefetch" href="/assets/generator.html.e8b19ba7.js"><link rel="prefetch" href="/assets/intro.html.d3143073.js"><link rel="prefetch" href="/assets/iterator.html.6c57bfea.js"><link rel="prefetch" href="/assets/let.html.248d352e.js"><link rel="prefetch" href="/assets/mixin.html.0c1a110d.js"><link rel="prefetch" href="/assets/module-loader.html.c660e376.js"><link rel="prefetch" href="/assets/module.html.cdb546ea.js"><link rel="prefetch" href="/assets/number.html.c42525a0.js"><link rel="prefetch" href="/assets/object-methods.html.4f1c2c4c.js"><link rel="prefetch" href="/assets/operator.html.125a2036.js"><link rel="prefetch" href="/assets/promise.html.a1207d06.js"><link rel="prefetch" href="/assets/proposals.html.a8026abf.js"><link rel="prefetch" href="/assets/proxy.html.87aa3e87.js"><link rel="prefetch" href="/assets/reference.html.09af1f77.js"><link rel="prefetch" href="/assets/reflect.html.00c432a8.js"><link rel="prefetch" href="/assets/regex.html.6b3a627b.js"><link rel="prefetch" href="/assets/set-map.html.67fb696a.js"><link rel="prefetch" href="/assets/simd.html.592ce5d9.js"><link rel="prefetch" href="/assets/spec.html.4b3d3ae9.js"><link rel="prefetch" href="/assets/string-methods.html.b5a43bc8.js"><link rel="prefetch" href="/assets/string.html.17bb783b.js"><link rel="prefetch" href="/assets/style.html.f130becb.js"><link rel="prefetch" href="/assets/symbol.html.83148a78.js"><link rel="prefetch" href="/assets/404.html.0ef179d0.js"><link rel="prefetch" href="/assets/404.4dc393e2.js"><link rel="prefetch" href="/assets/Layout.a02c5aac.js"><link rel="prefetch" href="/assets/recorder.a7d4e42b.js"><link rel="prefetch" href="/assets/uploadImg.017c1a5b.js"><link rel="prefetch" href="/assets/audio-player.5b63463e.js"><link rel="prefetch" href="/assets/demo.12d735cc.js"><link rel="prefetch" href="/assets/icon-preview.e2a1a6b0.js"><link rel="prefetch" href="/assets/my-component.05ec2d39.js">
    <link rel="stylesheet" href="/assets/style.b6cd18b1.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/images/logo.svg" alt="学无止境"><span class="site-name can-hide">学无止境</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="新手起步"><span class="title">新手起步</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="新手起步"><span class="title">新手起步</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/study/ES6%E5%AE%9E%E7%94%A8%E6%8A%80%E6%9C%AF%E7%82%B9.html" class="" aria-label="ES6实用技术点"><!--[--><!--]--> ES6实用技术点 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/TypeScript.html" class="" aria-label="TypeScript"><!--[--><!--]--> TypeScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/Vue2%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90.html" class="" aria-label="Vue2源码解析"><!--[--><!--]--> Vue2源码解析 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/Vue2%E7%BB%84%E4%BB%B6%E5%8D%87%E7%BA%A7.html" class="" aria-label="Vue2组件升级"><!--[--><!--]--> Vue2组件升级 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/base.html" class="" aria-label="基础技能"><!--[--><!--]--> 基础技能 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/miniprogram.html" class="" aria-label="微信小程序开发"><!--[--><!--]--> 微信小程序开发 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/stylus.html" class="" aria-label="CSS预处理 - Stylus"><!--[--><!--]--> CSS预处理 - Stylus <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/tree.html" class="" aria-label="自动生成目录结构"><!--[--><!--]--> 自动生成目录结构 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/vue3.html" class="" aria-label="Vue3 with Vite"><!--[--><!--]--> Vue3 with Vite <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/vue%E7%BB%84%E4%BB%B6%E5%BA%93%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97.html" class="" aria-label="vue组件库开发指南"><!--[--><!--]--> vue组件库开发指南 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/%E5%89%8D%E7%AB%AF%E5%8A%A0%E5%AF%86%E6%96%B9%E6%A1%88.html" class="" aria-label="前端加密方案"><!--[--><!--]--> 前端加密方案 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/%E5%89%8D%E7%AB%AF%E6%B0%B4%E5%8D%B0%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%A1%88.html" class="" aria-label="前端水印实现方案"><!--[--><!--]--> 前端水印实现方案 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="实用组件"><span class="title">实用组件</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="实用组件"><span class="title">实用组件</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/components/Player.html" class="" aria-label="音频播放器"><!--[--><!--]--> 音频播放器 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/components/Recoreder.html" class="" aria-label="在线录音"><!--[--><!--]--> 在线录音 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/components/UploadImg.html" class="" aria-label="图片上传"><!--[--><!--]--> 图片上传 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="实用工具"><span class="title">实用工具</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="实用工具"><span class="title">实用工具</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/tools/Charles.html" class="" aria-label="Charles"><!--[--><!--]--> Charles <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Docker.html" class="" aria-label="Docker"><!--[--><!--]--> Docker <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Jmeter.html" class="" aria-label="Jmeter"><!--[--><!--]--> Jmeter <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Magnet.html" class="" aria-label="Magnet"><!--[--><!--]--> Magnet <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Markdown.html" class="" aria-label="Markdown"><!--[--><!--]--> Markdown <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Mocha.html" class="" aria-label="Mocha"><!--[--><!--]--> Mocha <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Mockjs.html" class="" aria-label="Mockjs"><!--[--><!--]--> Mockjs <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Nodeppt.html" class="" aria-label="Nodeppt"><!--[--><!--]--> Nodeppt <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Oh-My-ZSH.html" class="" aria-label="Oh My ZSH!"><!--[--><!--]--> Oh My ZSH! <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Presentation.html" class="" aria-label="Presentation"><!--[--><!--]--> Presentation <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Python.html" class="" aria-label="Python3"><!--[--><!--]--> Python3 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Shell.html" class="" aria-label="Shell Script"><!--[--><!--]--> Shell Script <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Vuepress.html" class="" aria-label="Vuepress"><!--[--><!--]--> Vuepress <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/nginx.html" class="" aria-label="Nginx 入门"><!--[--><!--]--> Nginx 入门 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/mac/" class="" aria-label="Mac小技巧"><!--[--><!--]--> Mac小技巧 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/utils/iconPreview.md" class="" aria-label="字体文件预览"><!--[--><!--]--> 字体文件预览 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/es6tutorial/" class="router-link-active" aria-label="ES6 入门教程"><!--[--><!--]--> ES6 入门教程 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="参考资料"><span class="title">参考资料</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="参考资料"><span class="title">参考资料</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://cn.vuejs.org" rel="noopener noreferrer" target="_blank" aria-label="Vue"><!--[--><!--]--> Vue <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://vant-contrib.gitee.io/vant/#/zh-CN/" rel="noopener noreferrer" target="_blank" aria-label="Vant"><!--[--><!--]--> Vant <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://developers.weixin.qq.com/miniprogram/dev/framework/" rel="noopener noreferrer" target="_blank" aria-label="miniprogram"><!--[--><!--]--> miniprogram <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://developer.mozilla.org" rel="noopener noreferrer" target="_blank" aria-label="MDN Web Docs"><!--[--><!--]--> MDN Web Docs <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="站内搜索" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="新手起步"><span class="title">新手起步</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="新手起步"><span class="title">新手起步</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/study/ES6%E5%AE%9E%E7%94%A8%E6%8A%80%E6%9C%AF%E7%82%B9.html" class="" aria-label="ES6实用技术点"><!--[--><!--]--> ES6实用技术点 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/TypeScript.html" class="" aria-label="TypeScript"><!--[--><!--]--> TypeScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/Vue2%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90.html" class="" aria-label="Vue2源码解析"><!--[--><!--]--> Vue2源码解析 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/Vue2%E7%BB%84%E4%BB%B6%E5%8D%87%E7%BA%A7.html" class="" aria-label="Vue2组件升级"><!--[--><!--]--> Vue2组件升级 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/base.html" class="" aria-label="基础技能"><!--[--><!--]--> 基础技能 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/miniprogram.html" class="" aria-label="微信小程序开发"><!--[--><!--]--> 微信小程序开发 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/stylus.html" class="" aria-label="CSS预处理 - Stylus"><!--[--><!--]--> CSS预处理 - Stylus <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/tree.html" class="" aria-label="自动生成目录结构"><!--[--><!--]--> 自动生成目录结构 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/vue3.html" class="" aria-label="Vue3 with Vite"><!--[--><!--]--> Vue3 with Vite <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/vue%E7%BB%84%E4%BB%B6%E5%BA%93%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97.html" class="" aria-label="vue组件库开发指南"><!--[--><!--]--> vue组件库开发指南 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/%E5%89%8D%E7%AB%AF%E5%8A%A0%E5%AF%86%E6%96%B9%E6%A1%88.html" class="" aria-label="前端加密方案"><!--[--><!--]--> 前端加密方案 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/study/%E5%89%8D%E7%AB%AF%E6%B0%B4%E5%8D%B0%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%A1%88.html" class="" aria-label="前端水印实现方案"><!--[--><!--]--> 前端水印实现方案 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="实用组件"><span class="title">实用组件</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="实用组件"><span class="title">实用组件</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/components/Player.html" class="" aria-label="音频播放器"><!--[--><!--]--> 音频播放器 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/components/Recoreder.html" class="" aria-label="在线录音"><!--[--><!--]--> 在线录音 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/components/UploadImg.html" class="" aria-label="图片上传"><!--[--><!--]--> 图片上传 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="实用工具"><span class="title">实用工具</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="实用工具"><span class="title">实用工具</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/tools/Charles.html" class="" aria-label="Charles"><!--[--><!--]--> Charles <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Docker.html" class="" aria-label="Docker"><!--[--><!--]--> Docker <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Jmeter.html" class="" aria-label="Jmeter"><!--[--><!--]--> Jmeter <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Magnet.html" class="" aria-label="Magnet"><!--[--><!--]--> Magnet <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Markdown.html" class="" aria-label="Markdown"><!--[--><!--]--> Markdown <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Mocha.html" class="" aria-label="Mocha"><!--[--><!--]--> Mocha <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Mockjs.html" class="" aria-label="Mockjs"><!--[--><!--]--> Mockjs <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Nodeppt.html" class="" aria-label="Nodeppt"><!--[--><!--]--> Nodeppt <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Oh-My-ZSH.html" class="" aria-label="Oh My ZSH!"><!--[--><!--]--> Oh My ZSH! <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Presentation.html" class="" aria-label="Presentation"><!--[--><!--]--> Presentation <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Python.html" class="" aria-label="Python3"><!--[--><!--]--> Python3 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Shell.html" class="" aria-label="Shell Script"><!--[--><!--]--> Shell Script <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/Vuepress.html" class="" aria-label="Vuepress"><!--[--><!--]--> Vuepress <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tools/nginx.html" class="" aria-label="Nginx 入门"><!--[--><!--]--> Nginx 入门 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/mac/" class="" aria-label="Mac小技巧"><!--[--><!--]--> Mac小技巧 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/utils/iconPreview.md" class="" aria-label="字体文件预览"><!--[--><!--]--> 字体文件预览 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/es6tutorial/" class="router-link-active" aria-label="ES6 入门教程"><!--[--><!--]--> ES6 入门教程 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="参考资料"><span class="title">参考资料</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="参考资料"><span class="title">参考资料</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://cn.vuejs.org" rel="noopener noreferrer" target="_blank" aria-label="Vue"><!--[--><!--]--> Vue <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://vant-contrib.gitee.io/vant/#/zh-CN/" rel="noopener noreferrer" target="_blank" aria-label="Vant"><!--[--><!--]--> Vant <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://developers.weixin.qq.com/miniprogram/dev/framework/" rel="noopener noreferrer" target="_blank" aria-label="miniprogram"><!--[--><!--]--> miniprogram <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://developer.mozilla.org" rel="noopener noreferrer" target="_blank" aria-label="MDN Web Docs"><!--[--><!--]--> MDN Web Docs <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active">ES6 入门教程 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/es6tutorial/README.md" class="sidebar-item" aria-label="前言"><!--[--><!--]--> 前言 <!--[--><!--]--></a><!----></li><li><a href="/es6tutorial/docs/acknowledgment.html" class="sidebar-item" aria-label="鸣谢"><!--[--><!--]--> 鸣谢 <!--[--><!--]--></a><!----></li><li><a href="/es6tutorial/docs/array.html" class="sidebar-item" aria-label="数组的扩展"><!--[--><!--]--> 数组的扩展 <!--[--><!--]--></a><!----></li><li><a href="/es6tutorial/docs/arraybuffer.html" class="sidebar-item" aria-label="ArrayBuffer"><!--[--><!--]--> ArrayBuffer <!--[--><!--]--></a><!----></li><li><a href="/es6tutorial/docs/async-iterator.html" class="sidebar-item" aria-label="异步遍历器"><!--[--><!--]--> 异步遍历器 <!--[--><!--]--></a><!----></li><li><a href="/es6tutorial/docs/async.html" class="sidebar-item" aria-label="async 函数"><!--[--><!--]--> async 函数 <!--[--><!--]--></a><!----></li><li><a href="/es6tutorial/docs/class-extends.html" class="sidebar-item" aria-label="Class 的继承"><!--[--><!--]--> Class 的继承 <!--[--><!--]--></a><!----></li><li><a href="/es6tutorial/docs/class.html" class="sidebar-item" aria-label="Class 的基本语法"><!--[--><!--]--> Class 的基本语法 <!--[--><!--]--></a><!----></li><li><a href="/es6tutorial/docs/decorator.html" class="sidebar-item" aria-label="装饰器"><!--[--><!--]--> 装饰器 <!--[--><!--]--></a><!----></li><li><a href="/es6tutorial/docs/destructuring.html" class="sidebar-item" aria-label="变量的解构赋值"><!--[--><!--]--> 变量的解构赋值 <!--[--><!--]--></a><!----></li><li><a href="/es6tutorial/docs/fp.html" class="sidebar-item" aria-label="函数式编程"><!--[--><!--]--> 函数式编程 <!--[--><!--]--></a><!----></li><li><a href="/es6tutorial/docs/function.html" class="sidebar-item" aria-label="函数的扩展"><!--[--><!--]--> 函数的扩展 <!--[--><!--]--></a><!----></li><li><a href="/es6tutorial/docs/generator-async.html" class="sidebar-item" aria-label="Generator 函数的异步应用"><!--[--><!--]--> Generator 函数的异步应用 <!--[--><!--]--></a><!----></li><li><a href="/es6tutorial/docs/generator.html" class="sidebar-item" aria-label="Generator 函数的语法"><!--[--><!--]--> Generator 函数的语法 <!--[--><!--]--></a><!----></li><li><a href="/es6tutorial/docs/intro.html" class="sidebar-item" aria-label="ECMAScript 6 简介"><!--[--><!--]--> ECMAScript 6 简介 <!--[--><!--]--></a><!----></li><li><a href="/es6tutorial/docs/iterator.html" class="sidebar-item" aria-label="Iterator 和 for...of 循环"><!--[--><!--]--> Iterator 和 for...of 循环 <!--[--><!--]--></a><!----></li><li><a href="/es6tutorial/docs/let.html" class="sidebar-item" aria-label="let 和 const 命令"><!--[--><!--]--> let 和 const 命令 <!--[--><!--]--></a><!----></li><li><a href="/es6tutorial/docs/mixin.html" class="sidebar-item" aria-label="Mixin"><!--[--><!--]--> Mixin <!--[--><!--]--></a><!----></li><li><a href="/es6tutorial/docs/module-loader.html" class="sidebar-item" aria-label="Module 的加载实现"><!--[--><!--]--> Module 的加载实现 <!--[--><!--]--></a><!----></li><li><a href="/es6tutorial/docs/module.html" class="sidebar-item" aria-label="Module 的语法"><!--[--><!--]--> Module 的语法 <!--[--><!--]--></a><!----></li><li><a href="/es6tutorial/docs/number.html" class="sidebar-item" aria-label="数值的扩展"><!--[--><!--]--> 数值的扩展 <!--[--><!--]--></a><!----></li><li><a href="/es6tutorial/docs/object-methods.html" class="sidebar-item" aria-label="对象的新增方法"><!--[--><!--]--> 对象的新增方法 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/es6tutorial/docs/object.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="对象的扩展"><!--[--><!--]--> 对象的扩展 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/es6tutorial/docs/object.html#属性的简洁表示法" class="router-link-active router-link-exact-active sidebar-item" aria-label="属性的简洁表示法"><!--[--><!--]--> 属性的简洁表示法 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/es6tutorial/docs/object.html#属性名表达式" class="router-link-active router-link-exact-active sidebar-item" aria-label="属性名表达式"><!--[--><!--]--> 属性名表达式 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/es6tutorial/docs/object.html#方法的-name-属性" class="router-link-active router-link-exact-active sidebar-item" aria-label="方法的 name 属性"><!--[--><!--]--> 方法的 name 属性 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/es6tutorial/docs/object.html#属性的可枚举性和遍历" class="router-link-active router-link-exact-active sidebar-item" aria-label="属性的可枚举性和遍历"><!--[--><!--]--> 属性的可枚举性和遍历 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/es6tutorial/docs/object.html#可枚举性" class="router-link-active router-link-exact-active sidebar-item" aria-label="可枚举性"><!--[--><!--]--> 可枚举性 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/es6tutorial/docs/object.html#属性的遍历" class="router-link-active router-link-exact-active sidebar-item" aria-label="属性的遍历"><!--[--><!--]--> 属性的遍历 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/es6tutorial/docs/object.html#super-关键字" class="router-link-active router-link-exact-active sidebar-item" aria-label="super 关键字"><!--[--><!--]--> super 关键字 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/es6tutorial/docs/object.html#对象的扩展运算符" class="router-link-active router-link-exact-active sidebar-item" aria-label="对象的扩展运算符"><!--[--><!--]--> 对象的扩展运算符 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/es6tutorial/docs/object.html#解构赋值" class="router-link-active router-link-exact-active sidebar-item" aria-label="解构赋值"><!--[--><!--]--> 解构赋值 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/es6tutorial/docs/object.html#扩展运算符" class="router-link-active router-link-exact-active sidebar-item" aria-label="扩展运算符"><!--[--><!--]--> 扩展运算符 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/es6tutorial/docs/object.html#aggregateerror-错误对象" class="router-link-active router-link-exact-active sidebar-item" aria-label="AggregateError 错误对象"><!--[--><!--]--> AggregateError 错误对象 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/es6tutorial/docs/operator.html" class="sidebar-item" aria-label="运算符的扩展"><!--[--><!--]--> 运算符的扩展 <!--[--><!--]--></a><!----></li><li><a href="/es6tutorial/docs/promise.html" class="sidebar-item" aria-label="Promise 对象"><!--[--><!--]--> Promise 对象 <!--[--><!--]--></a><!----></li><li><a href="/es6tutorial/docs/proposals.html" class="sidebar-item" aria-label="最新提案"><!--[--><!--]--> 最新提案 <!--[--><!--]--></a><!----></li><li><a href="/es6tutorial/docs/proxy.html" class="sidebar-item" aria-label="Proxy"><!--[--><!--]--> Proxy <!--[--><!--]--></a><!----></li><li><a href="/es6tutorial/docs/reference.html" class="sidebar-item" aria-label="参考链接"><!--[--><!--]--> 参考链接 <!--[--><!--]--></a><!----></li><li><a href="/es6tutorial/docs/reflect.html" class="sidebar-item" aria-label="Reflect"><!--[--><!--]--> Reflect <!--[--><!--]--></a><!----></li><li><a href="/es6tutorial/docs/regex.html" class="sidebar-item" aria-label="正则的扩展"><!--[--><!--]--> 正则的扩展 <!--[--><!--]--></a><!----></li><li><a href="/es6tutorial/docs/set-map.html" class="sidebar-item" aria-label="Set 和 Map 数据结构"><!--[--><!--]--> Set 和 Map 数据结构 <!--[--><!--]--></a><!----></li><li><a href="/es6tutorial/docs/simd.html" class="sidebar-item" aria-label="SIMD"><!--[--><!--]--> SIMD <!--[--><!--]--></a><!----></li><li><a href="/es6tutorial/docs/spec.html" class="sidebar-item" aria-label="读懂 ECMAScript 规格"><!--[--><!--]--> 读懂 ECMAScript 规格 <!--[--><!--]--></a><!----></li><li><a href="/es6tutorial/docs/string-methods.html" class="sidebar-item" aria-label="字符串的新增方法"><!--[--><!--]--> 字符串的新增方法 <!--[--><!--]--></a><!----></li><li><a href="/es6tutorial/docs/string.html" class="sidebar-item" aria-label="字符串的扩展"><!--[--><!--]--> 字符串的扩展 <!--[--><!--]--></a><!----></li><li><a href="/es6tutorial/docs/style.html" class="sidebar-item" aria-label="编程风格"><!--[--><!--]--> 编程风格 <!--[--><!--]--></a><!----></li><li><a href="/es6tutorial/docs/symbol.html" class="sidebar-item" aria-label="Symbol"><!--[--><!--]--> Symbol <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="对象的扩展" tabindex="-1"><a class="header-anchor" href="#对象的扩展" aria-hidden="true">#</a> 对象的扩展</h1><p>对象（object）是 JavaScript 最重要的数据结构。ES6 对它进行了重大升级，本章介绍数据结构本身的改变，下一章介绍<code>Object</code>对象的新增方法。</p><h2 id="属性的简洁表示法" tabindex="-1"><a class="header-anchor" href="#属性的简洁表示法" aria-hidden="true">#</a> 属性的简洁表示法</h2><p>ES6 允许在大括号里面，直接写入变量和函数，作为对象的属性和方法。这样的书写更加简洁。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token string">&#39;bar&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> baz <span class="token operator">=</span> <span class="token punctuation">{</span>foo<span class="token punctuation">}</span><span class="token punctuation">;</span>
baz <span class="token comment">// {foo: &quot;bar&quot;}</span>

<span class="token comment">// 等同于</span>
<span class="token keyword">const</span> baz <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">foo</span><span class="token operator">:</span> foo<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>上面代码中，变量<code>foo</code>直接写在大括号里面。这时，属性名就是变量名, 属性值就是变量值。下面是另一个例子。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>x<span class="token punctuation">,</span> y<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 等同于</span>

<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span> x<span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> y<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">f</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// Object {x: 1, y: 2}</span>
</code></pre></div><p>除了属性简写，方法也可以简写。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">const</span> o <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;Hello!&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 等同于</span>

<span class="token keyword">const</span> o <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">method</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;Hello!&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>下面是一个实际的例子。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">let</span> birth <span class="token operator">=</span> <span class="token string">&#39;2000/01/01&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>

  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;张三&#39;</span><span class="token punctuation">,</span>

  <span class="token comment">//等同于birth: birth</span>
  birth<span class="token punctuation">,</span>

  <span class="token comment">// 等同于hello: function ()...</span>
  <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;我的名字是&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>这种写法用于函数的返回值，将会非常方便。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">getPoint</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> y <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>x<span class="token punctuation">,</span> y<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">getPoint</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// {x:1, y:10}</span>
</code></pre></div><p>CommonJS 模块输出一组变量，就非常合适使用简洁写法。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">let</span> ms <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">getItem</span> <span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> key <span class="token keyword">in</span> ms <span class="token operator">?</span> ms<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">setItem</span> <span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  ms<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">clear</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  ms <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span> getItem<span class="token punctuation">,</span> setItem<span class="token punctuation">,</span> clear <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 等同于</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">getItem</span><span class="token operator">:</span> getItem<span class="token punctuation">,</span>
  <span class="token literal-property property">setItem</span><span class="token operator">:</span> setItem<span class="token punctuation">,</span>
  <span class="token literal-property property">clear</span><span class="token operator">:</span> clear
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>属性的赋值器（setter）和取值器（getter），事实上也是采用这种写法。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">const</span> cart <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">_wheels</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>

  <span class="token keyword">get</span> <span class="token function">wheels</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_wheels<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token keyword">set</span> <span class="token function">wheels</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_wheels<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;数值太小了！&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_wheels <span class="token operator">=</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>简洁写法在打印对象时也很有用。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;test&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">bar</span><span class="token operator">:</span> <span class="token string">&#39;baz&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> foo<span class="token punctuation">)</span>
<span class="token comment">// {name: &quot;test&quot;} {bar: &quot;baz&quot;}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span>user<span class="token punctuation">,</span> foo<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// {user: {name: &quot;test&quot;}, foo: {bar: &quot;baz&quot;}}</span>
</code></pre></div><p>上面代码中，<code>console.log</code>直接输出<code>user</code>和<code>foo</code>两个对象时，就是两组键值对，可能会混淆。把它们放在大括号里面输出，就变成了对象的简洁表示法，每组键值对前面会打印对象名，这样就比较清晰了。</p><p>注意，简写的对象方法不能用作构造函数，会报错。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>foo <span class="token operator">=</span> <span class="token string">&#39;bar&#39;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">obj<span class="token punctuation">.</span>f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 报错</span>
</code></pre></div><p>上面代码中，<code>f</code>是一个简写的对象方法，所以<code>obj.f</code>不能当作构造函数使用。</p><h2 id="属性名表达式" tabindex="-1"><a class="header-anchor" href="#属性名表达式" aria-hidden="true">#</a> 属性名表达式</h2><p>JavaScript 定义对象的属性，有两种方法。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// 方法一</span>
obj<span class="token punctuation">.</span>foo <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

<span class="token comment">// 方法二</span>
obj<span class="token punctuation">[</span><span class="token string">&#39;a&#39;</span> <span class="token operator">+</span> <span class="token string">&#39;bc&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
</code></pre></div><p>上面代码的方法一是直接用标识符作为属性名，方法二是用表达式作为属性名，这时要将表达式放在方括号之内。</p><p>但是，如果使用字面量方式定义对象（使用大括号），在 ES5 中只能使用方法一（标识符）定义属性。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">abc</span><span class="token operator">:</span> <span class="token number">123</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>ES6 允许字面量定义对象时，用方法二（表达式）作为对象的属性名，即把表达式放在方括号内。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">let</span> propKey <span class="token operator">=</span> <span class="token string">&#39;foo&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>propKey<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">&#39;a&#39;</span> <span class="token operator">+</span> <span class="token string">&#39;bc&#39;</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token number">123</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>下面是另一个例子。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">let</span> lastWord <span class="token operator">=</span> <span class="token string">&#39;last word&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&#39;first word&#39;</span><span class="token operator">:</span> <span class="token string">&#39;hello&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span>lastWord<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">&#39;world&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

a<span class="token punctuation">[</span><span class="token string">&#39;first word&#39;</span><span class="token punctuation">]</span> <span class="token comment">// &quot;hello&quot;</span>
a<span class="token punctuation">[</span>lastWord<span class="token punctuation">]</span> <span class="token comment">// &quot;world&quot;</span>
a<span class="token punctuation">[</span><span class="token string">&#39;last word&#39;</span><span class="token punctuation">]</span> <span class="token comment">// &quot;world&quot;</span>
</code></pre></div><p>表达式还可以用于定义方法名。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token string">&#39;h&#39;</span> <span class="token operator">+</span> <span class="token string">&#39;ello&#39;</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;hi&#39;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

obj<span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// hi</span>
</code></pre></div><p>注意，属性名表达式与简洁表示法，不能同时使用，会报错。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// 报错</span>
<span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token string">&#39;bar&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> bar <span class="token operator">=</span> <span class="token string">&#39;abc&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> baz <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>foo<span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 正确</span>
<span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token string">&#39;bar&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> baz <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>foo<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">&#39;abc&#39;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>注意，属性名表达式如果是一个对象，默认情况下会自动将对象转为字符串<code>[object Object]</code>，这一点要特别小心。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">const</span> keyA <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> keyB <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> myObject <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>keyA<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">&#39;valueA&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span>keyB<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">&#39;valueB&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

myObject <span class="token comment">// Object {[object Object]: &quot;valueB&quot;}</span>
</code></pre></div><p>上面代码中，<code>[keyA]</code>和<code>[keyB]</code>得到的都是<code>[object Object]</code>，所以<code>[keyB]</code>会把<code>[keyA]</code>覆盖掉，而<code>myObject</code>最后只有一个<code>[object Object]</code>属性。</p><h2 id="方法的-name-属性" tabindex="-1"><a class="header-anchor" href="#方法的-name-属性" aria-hidden="true">#</a> 方法的 name 属性</h2><p>函数的<code>name</code>属性，返回函数名。对象方法也是函数，因此也有<code>name</code>属性。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;hello!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

person<span class="token punctuation">.</span>sayName<span class="token punctuation">.</span>name   <span class="token comment">// &quot;sayName&quot;</span>
</code></pre></div><p>上面代码中，方法的<code>name</code>属性返回函数名（即方法名）。</p><p>如果对象的方法使用了取值函数（<code>getter</code>）和存值函数（<code>setter</code>），则<code>name</code>属性不是在该方法上面，而是该方法的属性的描述对象的<code>get</code>和<code>set</code>属性上面，返回值是方法名前加上<code>get</code>和<code>set</code>。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">get</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">set</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

obj<span class="token punctuation">.</span>foo<span class="token punctuation">.</span>name
<span class="token comment">// TypeError: Cannot read property &#39;name&#39; of undefined</span>

<span class="token keyword">const</span> descriptor <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">&#39;foo&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

descriptor<span class="token punctuation">.</span>get<span class="token punctuation">.</span>name <span class="token comment">// &quot;get foo&quot;</span>
descriptor<span class="token punctuation">.</span>set<span class="token punctuation">.</span>name <span class="token comment">// &quot;set foo&quot;</span>
</code></pre></div><p>有两种特殊情况：<code>bind</code>方法创造的函数，<code>name</code>属性返回<code>bound</code>加上原函数的名字；<code>Function</code>构造函数创造的函数，<code>name</code>属性返回<code>anonymous</code>。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name <span class="token comment">// &quot;anonymous&quot;</span>

<span class="token keyword">var</span> <span class="token function-variable function">doSomething</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">doSomething</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name <span class="token comment">// &quot;bound doSomething&quot;</span>
</code></pre></div><p>如果对象的方法是一个 Symbol 值，那么<code>name</code>属性返回的是这个 Symbol 值的描述。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">const</span> key1 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&#39;description&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> key2 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>key1<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span>key2<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
obj<span class="token punctuation">[</span>key1<span class="token punctuation">]</span><span class="token punctuation">.</span>name <span class="token comment">// &quot;[description]&quot;</span>
obj<span class="token punctuation">[</span>key2<span class="token punctuation">]</span><span class="token punctuation">.</span>name <span class="token comment">// &quot;&quot;</span>
</code></pre></div><p>上面代码中，<code>key1</code>对应的 Symbol 值有描述，<code>key2</code>没有。</p><h2 id="属性的可枚举性和遍历" tabindex="-1"><a class="header-anchor" href="#属性的可枚举性和遍历" aria-hidden="true">#</a> 属性的可枚举性和遍历</h2><h3 id="可枚举性" tabindex="-1"><a class="header-anchor" href="#可枚举性" aria-hidden="true">#</a> 可枚举性</h3><p>对象的每个属性都有一个描述对象（Descriptor），用来控制该属性的行为。<code>Object.getOwnPropertyDescriptor</code>方法可以获取该属性的描述对象。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token number">123</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">&#39;foo&#39;</span><span class="token punctuation">)</span>
<span class="token comment">//  {</span>
<span class="token comment">//    value: 123,</span>
<span class="token comment">//    writable: true,</span>
<span class="token comment">//    enumerable: true,</span>
<span class="token comment">//    configurable: true</span>
<span class="token comment">//  }</span>
</code></pre></div><p>描述对象的<code>enumerable</code>属性，称为“可枚举性”，如果该属性为<code>false</code>，就表示某些操作会忽略当前属性。</p><p>目前，有四个操作会忽略<code>enumerable</code>为<code>false</code>的属性。</p><ul><li><code>for...in</code>循环：只遍历对象自身的和继承的可枚举的属性。</li><li><code>Object.keys()</code>：返回对象自身的所有可枚举的属性的键名。</li><li><code>JSON.stringify()</code>：只串行化对象自身的可枚举的属性。</li><li><code>Object.assign()</code>： 忽略<code>enumerable</code>为<code>false</code>的属性，只拷贝对象自身的可枚举的属性。</li></ul><p>这四个操作之中，前三个是 ES5 就有的，最后一个<code>Object.assign()</code>是 ES6 新增的。其中，只有<code>for...in</code>会返回继承的属性，其他三个方法都会忽略继承的属性，只处理对象自身的属性。实际上，引入“可枚举”（<code>enumerable</code>）这个概念的最初目的，就是让某些属性可以规避掉<code>for...in</code>操作，不然所有内部属性和方法都会被遍历到。比如，对象原型的<code>toString</code>方法，以及数组的<code>length</code>属性，就通过“可枚举性”，从而避免被<code>for...in</code>遍历到。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token string">&#39;toString&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>enumerable
<span class="token comment">// false</span>

Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#39;length&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>enumerable
<span class="token comment">// false</span>
</code></pre></div><p>上面代码中，<code>toString</code>和<code>length</code>属性的<code>enumerable</code>都是<code>false</code>，因此<code>for...in</code>不会遍历到这两个继承自原型的属性。</p><p>另外，ES6 规定，所有 Class 的原型的方法都是不可枚举的。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span><span class="token keyword">class</span> <span class="token punctuation">{</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token string">&#39;foo&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>enumerable
<span class="token comment">// false</span>
</code></pre></div><p>总的来说，操作中引入继承的属性会让问题复杂化，大多数时候，我们只关心对象自身的属性。所以，尽量不要用<code>for...in</code>循环，而用<code>Object.keys()</code>代替。</p><h3 id="属性的遍历" tabindex="-1"><a class="header-anchor" href="#属性的遍历" aria-hidden="true">#</a> 属性的遍历</h3><p>ES6 一共有 5 种方法可以遍历对象的属性。</p><p><strong>（1）for...in</strong></p><p><code>for...in</code>循环遍历对象自身的和继承的可枚举属性（不含 Symbol 属性）。</p><p><strong>（2）Object.keys(obj)</strong></p><p><code>Object.keys</code>返回一个数组，包括对象自身的（不含继承的）所有可枚举属性（不含 Symbol 属性）的键名。</p><p><strong>（3）Object.getOwnPropertyNames(obj)</strong></p><p><code>Object.getOwnPropertyNames</code>返回一个数组，包含对象自身的所有属性（不含 Symbol 属性，但是包括不可枚举属性）的键名。</p><p><strong>（4）Object.getOwnPropertySymbols(obj)</strong></p><p><code>Object.getOwnPropertySymbols</code>返回一个数组，包含对象自身的所有 Symbol 属性的键名。</p><p><strong>（5）Reflect.ownKeys(obj)</strong></p><p><code>Reflect.ownKeys</code>返回一个数组，包含对象自身的（不含继承的）所有键名，不管键名是 Symbol 或字符串，也不管是否可枚举。</p><p>以上的 5 种方法遍历对象的键名，都遵守同样的属性遍历的次序规则。</p><ul><li>首先遍历所有数值键，按照数值升序排列。</li><li>其次遍历所有字符串键，按照加入时间升序排列。</li><li>最后遍历所有 Symbol 键，按照加入时间升序排列。</li></ul><div class="language-javascript ext-js"><pre class="language-javascript"><code>Reflect<span class="token punctuation">.</span><span class="token function">ownKeys</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token punctuation">[</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">a</span><span class="token operator">:</span><span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// [&#39;2&#39;, &#39;10&#39;, &#39;b&#39;, &#39;a&#39;, Symbol()]</span>
</code></pre></div><p>上面代码中，<code>Reflect.ownKeys</code>方法返回一个数组，包含了参数对象的所有属性。这个数组的属性次序是这样的，首先是数值属性<code>2</code>和<code>10</code>，其次是字符串属性<code>b</code>和<code>a</code>，最后是 Symbol 属性。</p><h2 id="super-关键字" tabindex="-1"><a class="header-anchor" href="#super-关键字" aria-hidden="true">#</a> super 关键字</h2><p>我们知道，<code>this</code>关键字总是指向函数所在的当前对象，ES6 又新增了另一个类似的关键字<code>super</code>，指向当前对象的原型对象。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">const</span> proto <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token string">&#39;hello&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token string">&#39;world&#39;</span><span class="token punctuation">,</span>
  <span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span>foo<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> proto<span class="token punctuation">)</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// &quot;hello&quot;</span>
</code></pre></div><p>上面代码中，对象<code>obj.find()</code>方法之中，通过<code>super.foo</code>引用了原型对象<code>proto</code>的<code>foo</code>属性。</p><p>注意，<code>super</code>关键字表示原型对象时，只能用在对象的方法之中，用在其他地方都会报错。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// 报错</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token keyword">super</span><span class="token punctuation">.</span>foo
<span class="token punctuation">}</span>

<span class="token comment">// 报错</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">foo</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">super</span><span class="token punctuation">.</span>foo
<span class="token punctuation">}</span>

<span class="token comment">// 报错</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">foo</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span>foo
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>上面三种<code>super</code>的用法都会报错，因为对于 JavaScript 引擎来说，这里的<code>super</code>都没有用在对象的方法之中。第一种写法是<code>super</code>用在属性里面，第二种和第三种写法是<code>super</code>用在一个函数里面，然后赋值给<code>foo</code>属性。目前，只有对象方法的简写法可以让 JavaScript 引擎确认，定义的是对象的方法。</p><p>JavaScript 引擎内部，<code>super.foo</code>等同于<code>Object.getPrototypeOf(this).foo</code>（属性）或<code>Object.getPrototypeOf(this).foo.call(this)</code>（方法）。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">const</span> proto <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token string">&#39;hello&#39;</span><span class="token punctuation">,</span>
  <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token string">&#39;world&#39;</span><span class="token punctuation">,</span>
  <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> proto<span class="token punctuation">)</span><span class="token punctuation">;</span>

obj<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// &quot;world&quot;</span>
</code></pre></div><p>上面代码中，<code>super.foo</code>指向原型对象<code>proto</code>的<code>foo</code>方法，但是绑定的<code>this</code>却还是当前对象<code>obj</code>，因此输出的就是<code>world</code>。</p><h2 id="对象的扩展运算符" tabindex="-1"><a class="header-anchor" href="#对象的扩展运算符" aria-hidden="true">#</a> 对象的扩展运算符</h2><p>《数组的扩展》一章中，已经介绍过扩展运算符（<code>...</code>）。ES2018 将这个运算符<a href="https://github.com/sebmarkbage/ecmascript-rest-spread" target="_blank" rel="noopener noreferrer">引入<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>了对象。</p><h3 id="解构赋值" tabindex="-1"><a class="header-anchor" href="#解构赋值" aria-hidden="true">#</a> 解构赋值</h3><p>对象的解构赋值用于从一个对象取值，相当于将目标对象自身的所有可遍历的（enumerable）、但尚未被读取的属性，分配到指定的对象上面。所有的键和它们的值，都会拷贝到新对象上面。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token punctuation">{</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token operator">...</span>z <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">4</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
x <span class="token comment">// 1</span>
y <span class="token comment">// 2</span>
z <span class="token comment">// { a: 3, b: 4 }</span>
</code></pre></div><p>上面代码中，变量<code>z</code>是解构赋值所在的对象。它获取等号右边的所有尚未读取的键（<code>a</code>和<code>b</code>），将它们连同值一起拷贝过来。</p><p>由于解构赋值要求等号右边是一个对象，所以如果等号右边是<code>undefined</code>或<code>null</code>，就会报错，因为它们无法转为对象。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token punctuation">{</span> <span class="token operator">...</span>z <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// 运行时错误</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> <span class="token operator">...</span>z <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span> <span class="token comment">// 运行时错误</span>
</code></pre></div><p>解构赋值必须是最后一个参数，否则会报错。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token punctuation">{</span> <span class="token operator">...</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z <span class="token punctuation">}</span> <span class="token operator">=</span> someObject<span class="token punctuation">;</span> <span class="token comment">// 句法错误</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> x<span class="token punctuation">,</span> <span class="token operator">...</span>y<span class="token punctuation">,</span> <span class="token operator">...</span>z <span class="token punctuation">}</span> <span class="token operator">=</span> someObject<span class="token punctuation">;</span> <span class="token comment">// 句法错误</span>
</code></pre></div><p>上面代码中，解构赋值不是最后一个参数，所以会报错。</p><p>注意，解构赋值的拷贝是浅拷贝，即如果一个键的值是复合类型的值（数组、对象、函数）、那么解构赋值拷贝的是这个值的引用，而不是这个值的副本。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> <span class="token operator">...</span>x <span class="token punctuation">}</span> <span class="token operator">=</span> obj<span class="token punctuation">;</span>
obj<span class="token punctuation">.</span>a<span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
x<span class="token punctuation">.</span>a<span class="token punctuation">.</span>b <span class="token comment">// 2</span>
</code></pre></div><p>上面代码中，<code>x</code>是解构赋值所在的对象，拷贝了对象<code>obj</code>的<code>a</code>属性。<code>a</code>属性引用了一个对象，修改这个对象的值，会影响到解构赋值对它的引用。</p><p>另外，扩展运算符的解构赋值，不能复制继承自原型对象的属性。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">let</span> o1 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> o2 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
o2<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> o1<span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> <span class="token operator">...</span>o3 <span class="token punctuation">}</span> <span class="token operator">=</span> o2<span class="token punctuation">;</span>
o3 <span class="token comment">// { b: 2 }</span>
o3<span class="token punctuation">.</span>a <span class="token comment">// undefined</span>
</code></pre></div><p>上面代码中，对象<code>o3</code>复制了<code>o2</code>，但是只复制了<code>o2</code>自身的属性，没有复制它的原型对象<code>o1</code>的属性。</p><p>下面是另一个例子。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">const</span> o <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
o<span class="token punctuation">.</span>z <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token punctuation">{</span> x<span class="token punctuation">,</span> <span class="token operator">...</span>newObj <span class="token punctuation">}</span> <span class="token operator">=</span> o<span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> y<span class="token punctuation">,</span> z <span class="token punctuation">}</span> <span class="token operator">=</span> newObj<span class="token punctuation">;</span>
x <span class="token comment">// 1</span>
y <span class="token comment">// undefined</span>
z <span class="token comment">// 3</span>
</code></pre></div><p>上面代码中，变量<code>x</code>是单纯的解构赋值，所以可以读取对象<code>o</code>继承的属性；变量<code>y</code>和<code>z</code>是扩展运算符的解构赋值，只能读取对象<code>o</code>自身的属性，所以变量<code>z</code>可以赋值成功，变量<code>y</code>取不到值。ES6 规定，变量声明语句之中，如果使用解构赋值，扩展运算符后面必须是一个变量名，而不能是一个解构赋值表达式，所以上面代码引入了中间变量<code>newObj</code>，如果写成下面这样会报错。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token punctuation">{</span> x<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">{</span> y<span class="token punctuation">,</span> z <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token operator">=</span> o<span class="token punctuation">;</span>
<span class="token comment">// SyntaxError: ... must be followed by an identifier in declaration contexts</span>
</code></pre></div><p>解构赋值的一个用处，是扩展某个函数的参数，引入其他操作。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">baseFunction</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> a<span class="token punctuation">,</span> b <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">wrapperFunction</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token operator">...</span>restConfig <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 使用 x 和 y 参数进行操作</span>
  <span class="token comment">// 其余参数传给原始函数</span>
  <span class="token keyword">return</span> <span class="token function">baseFunction</span><span class="token punctuation">(</span>restConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>上面代码中，原始函数<code>baseFunction</code>接受<code>a</code>和<code>b</code>作为参数，函数<code>wrapperFunction</code>在<code>baseFunction</code>的基础上进行了扩展，能够接受多余的参数，并且保留原始函数的行为。</p><h3 id="扩展运算符" tabindex="-1"><a class="header-anchor" href="#扩展运算符" aria-hidden="true">#</a> 扩展运算符</h3><p>对象的扩展运算符（<code>...</code>）用于取出参数对象的所有可遍历属性，拷贝到当前对象之中。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">let</span> z <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">4</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> n <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>z <span class="token punctuation">}</span><span class="token punctuation">;</span>
n <span class="token comment">// { a: 3, b: 4 }</span>
</code></pre></div><p>由于数组是特殊的对象，所以对象的扩展运算符也可以用于数组。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">let</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span><span class="token punctuation">[</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;b&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;c&#39;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
foo
<span class="token comment">// {0: &quot;a&quot;, 1: &quot;b&quot;, 2: &quot;c&quot;}</span>
</code></pre></div><p>如果扩展运算符后面是一个空对象，则没有任何效果。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span>
<span class="token comment">// { a: 1 }</span>
</code></pre></div><p>如果扩展运算符后面不是对象，则会自动将其转为对象。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// 等同于 {...Object(1)}</span>
<span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token number">.1</span><span class="token punctuation">}</span> <span class="token comment">// {}</span>
</code></pre></div><p>上面代码中，扩展运算符后面是整数<code>1</code>，会自动转为数值的包装对象<code>Number{1}</code>。由于该对象没有自身属性，所以返回一个空对象。</p><p>下面的例子都是类似的道理。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// 等同于 {...Object(true)}</span>
<span class="token punctuation">{</span><span class="token operator">...</span><span class="token boolean">true</span><span class="token punctuation">}</span> <span class="token comment">// {}</span>

<span class="token comment">// 等同于 {...Object(undefined)}</span>
<span class="token punctuation">{</span><span class="token operator">...</span><span class="token keyword">undefined</span><span class="token punctuation">}</span> <span class="token comment">// {}</span>

<span class="token comment">// 等同于 {...Object(null)}</span>
<span class="token punctuation">{</span><span class="token operator">...</span><span class="token keyword">null</span><span class="token punctuation">}</span> <span class="token comment">// {}</span>
</code></pre></div><p>但是，如果扩展运算符后面是字符串，它会自动转成一个类似数组的对象，因此返回的不是空对象。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token punctuation">{</span><span class="token operator">...</span><span class="token string">&#39;hello&#39;</span><span class="token punctuation">}</span>
<span class="token comment">// {0: &quot;h&quot;, 1: &quot;e&quot;, 2: &quot;l&quot;, 3: &quot;l&quot;, 4: &quot;o&quot;}</span>
</code></pre></div><p>对象的扩展运算符等同于使用<code>Object.assign()</code>方法。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">let</span> aClone <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>a <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 等同于</span>
<span class="token keyword">let</span> aClone <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>上面的例子只是拷贝了对象实例的属性，如果想完整克隆一个对象，还拷贝对象原型的属性，可以采用下面的写法。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// 写法一</span>
<span class="token keyword">const</span> clone1 <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">__proto__</span><span class="token operator">:</span> Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token operator">...</span>obj
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 写法二</span>
<span class="token keyword">const</span> clone2 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>
  Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  obj
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 写法三</span>
<span class="token keyword">const</span> clone3 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>
  Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">,</span>
  Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptors</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre></div><p>上面代码中，写法一的<code>__proto__</code>属性在非浏览器的环境不一定部署，因此推荐使用写法二和写法三。</p><p>扩展运算符可以用于合并两个对象。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">let</span> ab <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>a<span class="token punctuation">,</span> <span class="token operator">...</span>b <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 等同于</span>
<span class="token keyword">let</span> ab <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>如果用户自定义的属性，放在扩展运算符后面，则扩展运算符内部的同名属性会被覆盖掉。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">let</span> aWithOverrides <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>a<span class="token punctuation">,</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 等同于</span>
<span class="token keyword">let</span> aWithOverrides <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>a<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 等同于</span>
<span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> aWithOverrides <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>a<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 等同于</span>
<span class="token keyword">let</span> aWithOverrides <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>上面代码中，<code>a</code>对象的<code>x</code>属性和<code>y</code>属性，拷贝到新对象后会被覆盖掉。</p><p>这用来修改现有对象部分的属性就很方便了。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">let</span> newVersion <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>previousVersion<span class="token punctuation">,</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;New Name&#39;</span> <span class="token comment">// Override the name property</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>上面代码中，<code>newVersion</code>对象自定义了<code>name</code>属性，其他属性全部复制自<code>previousVersion</code>对象。</p><p>如果把自定义属性放在扩展运算符前面，就变成了设置新对象的默认属性值。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">let</span> aWithDefaults <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">...</span>a <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 等同于</span>
<span class="token keyword">let</span> aWithDefaults <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 等同于</span>
<span class="token keyword">let</span> aWithDefaults <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>与数组的扩展运算符一样，对象的扩展运算符后面可以跟表达式。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span><span class="token punctuation">(</span>x <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token punctuation">{</span><span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>扩展运算符的参数对象之中，如果有取值函数<code>get</code>，这个函数是会执行的。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">get</span> <span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;not throw yet&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> aWithXGetter <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>a <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 报错</span>
</code></pre></div><p>上面例子中，取值函数<code>get</code>在扩展<code>a</code>对象时会自动执行，导致报错。</p><h2 id="aggregateerror-错误对象" tabindex="-1"><a class="header-anchor" href="#aggregateerror-错误对象" aria-hidden="true">#</a> AggregateError 错误对象</h2><p>ES2021 标准之中，为了配合新增的<code>Promise.any()</code>方法（详见《Promise 对象》一章），还引入一个新的错误对象<code>AggregateError</code>，也放在这一章介绍。</p><p>AggregateError 在一个错误对象里面，封装了多个错误。如果某个单一操作，同时引发了多个错误，，需要同时抛出这些错误，那么就可以抛出一个 AggregateError 错误对象，把各种错误都放在这个对象里面。</p><p>AggregateError 本身是一个构造函数，用来生成 AggregateError 实例对象。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token function">AggregateError</span><span class="token punctuation">(</span>errors<span class="token punctuation">[</span><span class="token punctuation">,</span> message<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p><code>AggregateError()</code>构造函数可以接受两个参数。</p><ul><li>errors：数组，它的每个成员都是一个错误对象。该参数是必须的。</li><li>message：字符串，表示 AggregateError 抛出时的提示信息。该参数是可选的。</li></ul><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">const</span> error <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AggregateError</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;ERROR_11112&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">&#39;First name must be a string&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">new</span> <span class="token class-name">RangeError</span><span class="token punctuation">(</span><span class="token string">&#39;Transaction value must be at least 1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">new</span> <span class="token class-name">URIError</span><span class="token punctuation">(</span><span class="token string">&#39;User profile link must be https&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#39;Transaction cannot be processed&#39;</span><span class="token punctuation">)</span>
</code></pre></div><p>上面示例中，<code>AggregateError()</code>的第一个参数数组里面，一共有四个错误实例。第二个参数字符串则是这四个错误的一个整体的提示。</p><p><code>AggregateError</code>的实例对象有三个属性。</p><ul><li>name：错误名称，默认为“AggregateError”。</li><li>message：错误的提示信息。</li><li>errors：数组，每个成员都是一个错误对象。</li></ul><p>下面是一个示例。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">AggregateError</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;some error&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#39;Hello&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e <span class="token keyword">instanceof</span> <span class="token class-name">AggregateError</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>                   <span class="token comment">// &quot;Hello&quot;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>                      <span class="token comment">// &quot;AggregateError&quot;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>errors<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment">// [ Error: &quot;some error&quot; ]</span>
<span class="token punctuation">}</span>
</code></pre></div></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/es6tutorial/docs/object-methods.html" class="" aria-label="对象的新增方法"><!--[--><!--]--> 对象的新增方法 <!--[--><!--]--></a></span><span class="next"><a href="/es6tutorial/docs/operator.html" class="" aria-label="运算符的扩展"><!--[--><!--]--> 运算符的扩展 <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.c90e916d.js" defer></script>
  </body>
</html>
