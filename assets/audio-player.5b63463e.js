import{_ as U,d as Y,g as c,R as H,o as i,c as u,b as n,S as D,m as V,a0 as l0,F as C,k as w,i as M,t as b,p as N,a as O,E as $,a3 as s0,a4 as n0}from"./app.c90e916d.js";const i0=class{constructor({src:t,onloadedmetadata:v,ontimeupdate:o,onerror:s,isDebugger:r=!1}){this.audio=null,this.status="pause",this.muted=!1,this.timer="",this.playbackRate=1,this.src=t,this.onloadedmetadata=v,this.ontimeupdate=o,this.onerror=s,this.isDebugger=r}log(...t){this.isDebugger&&console.log(...t)}initPlayer(t=this.src,v=1){this.audio=new Audio(t),this.audio.volume=v,this.changeRate(this.playbackRate),this.audio.onloadedmetadata=o=>{this.log("onloadedmetadata",o.type),this.onloadedmetadata(o.target.duration)},this.audio.ontimeupdate=o=>{this.log("ontimeupdate",o.target.currentTime),this.ontimeupdate(o.target.currentTime)},this.audio.onerror=o=>{this.log("onerror",o),this.onerror(o)},this.audio.onpause=o=>{this.status=o.type},this.audio.onplay=o=>{this.status=o.type}}play(){this.audio&&this.audio.play()}toggleMute(){this.audio.muted=!this.audio.muted,this.muted=this.audio.muted}pause(){this.audio&&this.audio.pause()}togglePlay(){this.audio&&this.audio.paused?this.play():this.pause()}reload(t){this.pause(),this.audio&&this.audio.currentTime&&(this.audio.currentTime=0),this.audio.src=t,this.status="ended",this.togglePlay()}changeTime(t){this.log("changeTime",t),this.audio.currentTime=t,this.status!=="play"&&t>0&&this.play()}changeVolume(t){this.audio.volume=t,this.muted=t===0,this.audio.muted=this.muted}changeRate(t){this.audio.playbackRate=t,this.playbackRate=t}getSecondTimeFomate(t){const v=Math.floor(t);let o=Math.floor(v%3600/60),s=v-60*o;const r=p=>String(p).padStart(2,"0");return r(o)+":"+r(s)}};const u0={class:"slider-container"},c0=Y({__name:"slider",props:{modelValue:null,active:null,background:null},emits:["update:modelValue","change"],setup(t,{emit:v}){c(0);const o=c(null),s=c(null),r=c(0),p=Math.random()*1e4,y=Math.random()*1e5;function g(d){const h=d.clientX-o.value.offsetLeft;document.onmousemove=x=>{document.getSelection().removeAllRanges();const L=x.clientX-h;r.value=s.value.clientWidth-o.value.clientWidth;const z=Math.min(r.value,Math.max(L,0));_(z/r.value)},document.onmouseup=()=>{document.onmousemove=document.onmouseup=null}}function f(d){if(!d.target.className.includes("slider-liner"))return;const h=d.offsetX-o.value.clientWidth/2;_(h/r.value)}function _(d){v("update:modelValue",Number(d).toFixed(2)),v("change",d)}return H(()=>{s.value=document.getElementById(p),o.value=document.getElementById(y),r.value=s.value.clientWidth-o.value.clientWidth}),(d,h)=>(i(),u("div",u0,[n("div",{class:"slider-liner",id:p,onClick:f,style:D({background:`linear-gradient(to right, ${t.active||"#20a0ff"} ${t.modelValue*100}%, ${t.background||"#ddd"} ${t.modelValue*100}%)`})},[n("div",{class:"slider-pointer",id:y,onMousedown:g,style:D({left:r.value*t.modelValue+"px",background:t.active||"#20a0ff"})},null,36)],4)]))}});var A=U(c0,[["__scopeId","data-v-11263f93"],["__file","slider.vue"]]);const m=t=>(s0("data-v-8befcb8a"),t=t(),n0(),t),d0={class:"audio-player-warper"},r0={class:"audio-player-control-btn"},v0=m(()=>n("path",{d:"M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z"},null,-1)),h0=[v0],m0=m(()=>n("path",{d:"M14.080 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048zM2.88 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048z"},null,-1)),p0=[m0],g0={key:1,viewBox:"0 0 1024 1024",class:"audio-player-control-icon"},_0=m(()=>n("path",{d:"M517.08411984 479.11475483L301.90637831 263.93753776a26.85237631 26.85237631 0 1 0-37.98667221 37.95153335l215.17669262 215.19504873L263.91970607 732.27864411a26.85237631 26.85237631 0 1 0 37.96936504 37.96884057l215.19504878-215.17669264 215.19504866 215.17669264a26.85237631 26.85237631 0 1 0 37.9688406-37.95100889l-215.17669262-215.2123559 215.17669262-215.1772171a26.85237631 26.85237631 0 1 0-37.9688406-37.96936505L517.10195147 479.11475483z"},null,-1)),y0=[_0],f0={key:0,class:"audio-player-mini"},k0=m(()=>n("path",{d:"M517.08411984 479.11475483L301.90637831 263.93753776a26.85237631 26.85237631 0 1 0-37.98667221 37.95153335l215.17669262 215.19504873L263.91970607 732.27864411a26.85237631 26.85237631 0 1 0 37.96936504 37.96884057l215.19504878-215.17669264 215.19504866 215.17669264a26.85237631 26.85237631 0 1 0 37.9688406-37.95100889l-215.17669262-215.2123559 215.17669262-215.1772171a26.85237631 26.85237631 0 1 0-37.9688406-37.96936505L517.10195147 479.11475483z"},null,-1)),q0=[k0],M0=m(()=>n("path",{d:"M616.0602684 468.78768158L771.30480958 468.78768158c35.3562355 0 64.11552429-28.75928879 64.11552429-64.11552429l-1e-8-164.95456696c0-35.3562355-28.75928879-64.11552429-64.11552429-64.11552429l-155.24454117 0c-35.3562355 0-64.11552429 28.75928879-64.11552429 64.11552429L551.94474411 404.67215728c0 35.34851076 28.75928879 64.11552429 64.11552429 64.11552431z m2.31742859-226.75266265L768.98738098 242.03501893 768.98738098 402.35472869l-150.60968399 0 0-160.31970976z","p-id":"3010"},null,-1)),b0=m(()=>n("path",{d:"M299.04376221 848.39793396L724.95623779 848.39793396c60.90974808 0 110.46409607-49.55434799 110.46409607-110.46409607l0-202.85997391c0-18.34630967-14.87016678-33.21647644-33.21647644-33.21647644s-33.21647644 14.87016678-33.21647644 33.21647644L768.98738098 737.93383789c0 24.27892686-19.75221634 44.03114318-44.03114319 44.03114318l-425.91247558 0c-24.27892686 0-44.03114318-19.75221634-44.03114319-44.03114318l0-451.86767578c0-24.27892686 19.75221634-44.03114318 44.03114319-44.03114318L488.67121887 242.03501893c18.34630967 0 33.21647644-14.87016678 33.21647644-33.21647645s-14.87016678-33.21647644-33.21647643-33.21647644l-189.62745667 0c-60.90974808 0-110.46409607 49.55434799-110.46409607 110.46409607L188.57966614 737.93383789c0 60.90974808 49.55434799 110.46409607 110.46409607 110.46409607z","p-id":"3011"},null,-1)),x0=m(()=>n("path",{d:"M490.86505127 497.09893418L370.25061797 617.72109223l0-98.97737504c0-18.34630967-14.87016678-33.21647644-33.21647643-33.21647644s-33.21647644 14.87016678-33.21647643 33.21647644L303.81766511 660.52399827c0 19.02608872 8.34274292 36.13643647 21.55208586 47.89352416 0.19311905 0.20084381 0.37078857 0.40168762 0.5716324 0.59480667a33.25355529 33.25355529 0 0 0 8.51268767 6.16436004 63.73314858 63.73314858 0 0 0 33.47911836 9.46283341L500.00344467 724.63952255c18.34630967 0 33.21647644-14.87016678 33.21647644-33.21647644s-14.87016678-33.21647644-33.21647644-33.21647643l-76.28974914 0L537.83932876 544.08093642c12.96987533-12.96987533 12.96987533-34.00440217 0-46.97427749-6.48880005-6.48880005-14.98603821-9.72547531-23.49100113-9.72547531s-16.99447632 3.23667527-23.48327636 9.71775056z","p-id":"3012"},null,-1)),L0=[M0,b0,x0],z0={key:1,class:"audio-player-warper-content"},V0={class:"audio-player-title"},C0={class:"audio-player-title-btn"},w0=m(()=>n("span",null,"\u500D\u901F",-1)),B0=["onClick"],S0=m(()=>n("path",{d:"M18.285714 201.142857c0-100.571429 82.285714-182.857143 182.857143-182.857143h621.714286c100.571429 0 182.857143 82.285714 182.857143 182.857143v621.714286c0 100.571429-82.285714 182.857143-182.857143 182.857143h-621.714286a183.369143 183.369143 0 0 1-182.857143-182.857143z m694.857143-109.714286v109.714286c0 60.342857 49.371429 109.714286 109.714286 109.714286h109.714286v-109.714286c0-60.342857-49.371429-109.714286-109.714286-109.714286h-109.714286z m-621.714286 109.714286v621.714286c0 60.342857 49.371429 109.714286 109.714286 109.714286h621.714286c60.342857 0 109.714286-49.371429 109.714286-109.714286v-438.857143h-109.714286a183.369143 183.369143 0 0 1-182.857143-182.857143v-109.714286h-438.857143c-60.342857 0-109.714286 49.371429-109.714286 109.714286z m129.828572 601.6c-14.628571-14.628571-14.628571-36.571429 0-51.2L479.085714 493.714286h-131.657143a36.644571 36.644571 0 0 1-36.571428-36.571429c0-20.114286 16.457143-36.571429 36.571428-36.571428h219.428572c9.142857 0 18.285714 3.657143 25.6 10.971428 7.314286 5.485714 10.971429 14.628571 10.971428 25.6v219.428572c0 20.114286-16.457143 36.571429-36.571428 36.571428a36.644571 36.644571 0 0 1-36.571429-36.571428v-131.657143l-257.828571 257.828571c-14.628571 14.628571-36.571429 14.628571-51.2 0z","p-id":"5623"},null,-1)),R0=[S0],T0={key:0,class:"audio-player-error"},$0={key:1,class:"audio-player-control"},D0={class:"audio-player-control-progress"},E0={class:"audio-player-control-time"},F0=m(()=>n("path",{d:"M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8z"},null,-1)),I0=[F0],P0=m(()=>n("path",{d:"M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528zM25.152 16q0 2.72-1.536 5.056t-4 3.36q-0.256 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.704 0.672-1.056 1.024-0.512 1.376-0.8 1.312-0.96 2.048-2.4t0.736-3.104-0.736-3.104-2.048-2.4q-0.352-0.288-1.376-0.8-0.672-0.352-0.672-1.056 0-0.448 0.32-0.8t0.8-0.352q0.224 0 0.48 0.096 2.496 1.056 4 3.36t1.536 5.056zM29.728 16q0 4.096-2.272 7.552t-6.048 5.056q-0.224 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.64 0.704-1.056 0.128-0.064 0.384-0.192t0.416-0.192q0.8-0.448 1.44-0.896 2.208-1.632 3.456-4.064t1.216-5.152-1.216-5.152-3.456-4.064q-0.64-0.448-1.44-0.896-0.128-0.096-0.416-0.192t-0.384-0.192q-0.704-0.416-0.704-1.056 0-0.448 0.32-0.8t0.832-0.352q0.224 0 0.448 0.096 3.776 1.632 6.048 5.056t2.272 7.552z"},null,-1)),W0=[P0],X0=m(()=>n("path",{d:"M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528z"},null,-1)),N0=[X0],O0={class:"audio-player-volume-slider"},A0={key:0,class:"audio-player-list"},U0=["onClick"],Y0=Y({__name:"audio-player",props:{list:null,miniable:{type:Boolean},rates:null},emits:["change","close"],setup(t,{emit:v}){const o=t,s=c(""),r=c("00:00"),p=c("00:00"),y=c(0),g=c(!1),f=c(0),_=c(1),d=c(!1),h=c({}),x=c(0),L=c(0),z=c(0),E=c(0),k=c(0),q=c(0),B=c(0),S=c(0),j=V(()=>{var e;return((e=s.value)==null?void 0:e.status)==="play"}),G=V(()=>{var e;return((e=s.value)==null?void 0:e.muted)===!0}),J=V(()=>{var e;return(e=s.value)==null?void 0:e.playbackRate}),K=V(()=>({transform:`translate(${k.value}px, ${q.value}px)`,cursor:"move"}));function F(){var e;(e=s.value)==null||e.pause(),s.value=""}function R(){var e;(e=s.value)==null||e.togglePlay()}function T(){var e;(e=s.value)==null||e.toggleMute()}function Q(e){var a;(a=s.value)==null||a.changeTime(y.value*e)}function Z(e){var a;(a=s.value)==null||a.changeVolume(e)}function e0(e){s.value.changeRate(e)}function t0(e){var a;e===h.value?R():(h.value=e,(a=s.value)==null||a.reload(e.src))}function I(e){d.value=e,v("change",e)}function a0(){F(),v("close")}function o0(e){d.value&&(B.value=document.body.clientWidth,S.value=document.body.clientHeight,z.value=k.value,E.value=q.value,x.value=e.clientX,L.value=e.clientY,document.addEventListener("mousemove",P),document.addEventListener("mouseup",W))}function P(e){const a=z.value+e.clientX-x.value,l=E.value+e.clientY-L.value;a>0?k.value=0:a<-B.value+84?k.value=-B.value+84:k.value=a,l>S.value-120?q.value=S.value-120:l<-60?q.value=-60:q.value=l}function W(){document.removeEventListener("mouseup",W),document.removeEventListener("mousemove",P)}return H(()=>{var e;h.value=o.list[0],s.value=new i0({src:h.value.src,onloadedmetadata:a=>{var l;g.value=!1,y.value=a,p.value=(l=s.value)==null?void 0:l.getSecondTimeFomate(a)},ontimeupdate:a=>{var l;r.value=(l=s.value)==null?void 0:l.getSecondTimeFomate(a),f.value=a/y.value},onerror:()=>{g.value=!0}}),(e=s.value)==null||e.initPlayer(h.value.src,_.value)}),l0(()=>{F()}),(e,a)=>(i(),u("div",{class:$(["audio-player-container",{mini:d.value}]),onMousedown:o0,style:D(d.value?w(K):"")},[n("div",d0,[n("div",r0,[g.value?(i(),u("svg",g0,y0)):(i(),u(C,{key:0},[w(j)?(i(),u("svg",{key:1,viewBox:"0 0 17 32",class:"audio-player-control-icon",onClick:R},p0)):(i(),u("svg",{key:0,viewBox:"-9 0 32 32",class:"audio-player-control-icon",onClick:R},h0))],64))]),d.value?(i(),u("div",f0,[(i(),u("svg",{onClick:a0,viewBox:"0 0 1024 1024"},q0)),(i(),u("svg",{viewBox:"0 0 1024 1024",onClick:a[0]||(a[0]=l=>I(!1))},L0))])):M("",!0),d.value?M("",!0):(i(),u("div",z0,[n("div",V0,[n("div",null,b(h.value.name),1),n("div",C0,[g.value?M("",!0):(i(),u(C,{key:0},[w0,(i(!0),u(C,null,N(t.rates||[.5,1,2],l=>(i(),u("span",{class:$({"rate-active":w(J)===l}),key:l,onClick:X=>e0(l)},b(l),11,B0))),128))],64)),t.miniable?(i(),u("svg",{key:1,onClick:a[1]||(a[1]=l=>I(!0)),viewBox:"0 0 1024 1024",width:"20",height:"20"},R0)):M("",!0)])]),g.value?(i(),u("div",T0," \u6587\u4EF6\u52A0\u8F7D\u5931\u8D25 ")):(i(),u("div",$0,[n("div",D0,[O(A,{modelValue:f.value,"onUpdate:modelValue":a[2]||(a[2]=l=>f.value=l),onChange:Q},null,8,["modelValue"])]),n("div",E0,b(r.value)+" / "+b(p.value),1),w(G)?(i(),u("svg",{key:0,viewBox:"0 0 32 32",class:"audio-player-control-icon volume",onClick:T},I0)):_.value==1?(i(),u("svg",{key:1,viewBox:"0 0 32 32",class:"audio-player-control-icon volume",onClick:T},W0)):(i(),u("svg",{key:2,viewBox:"0 0 32 32",class:"audio-player-control-icon volume",onClick:T},N0)),n("div",O0,[O(A,{modelValue:_.value,"onUpdate:modelValue":a[3]||(a[3]=l=>_.value=l),onChange:Z},null,8,["modelValue"])])]))]))]),!d.value&&t.list&&t.list.length>1?(i(),u("div",A0,[n("ul",null,[(i(!0),u(C,null,N(t.list,(l,X)=>(i(),u("li",{class:$({active:l.src===h.value.src}),key:X,onClick:H0=>t0(l)},b(l.name),11,U0))),128))])])):M("",!0)],38))}});var G0=U(Y0,[["__scopeId","data-v-8befcb8a"],["__file","audio-player.vue"]]);export{G0 as default};
