import{_ as m,d as v,g as u,r as c,o as t,c as l,a as b,w as p,f as k,b as s,h as _,i as r}from"./app.c90e916d.js";const q=k('<h1 id="\u5728\u7EBF\u5F55\u97F3" tabindex="-1"><a class="header-anchor" href="#\u5728\u7EBF\u5F55\u97F3" aria-hidden="true">#</a> \u5728\u7EBF\u5F55\u97F3</h1><p>\u4F7F\u7528<code>mediarecorder</code>\u5B9E\u73B0\u7EAF\u524D\u7AEF\u5728\u7EBF\u5F55\u97F3\uFF0C\u4EC5\u652F\u6301<code>localhost</code>\u548C<code>https</code>\u73AF\u5883\uFF0C\u9700\u8981\u5F00\u542F\u6D4F\u89C8\u5668<code>\u9EA6\u514B\u98CE\u6743\u9650</code>\u3002</p><h2 id="demo" tabindex="-1"><a class="header-anchor" href="#demo" aria-hidden="true">#</a> Demo</h2><p>\u70B9\u51FB[\u5B8C\u6210]\uFF0C\u5C06base64\u6570\u636E\u8FDB\u884C\u9884\u89C8\u64AD\u653E</p>',4),C=["disabled"],f={class:"recorder-container"},y=s("button",{class:"btn"},"\u53D1\u9001",-1),B=s("button",{class:"btn"},"\u53D6\u6D88",-1),E=["src"],w=k(`<div class="language-vue ext-vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>startRecoreder<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>showRecorder<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u5F00\u59CB\u5F55\u97F3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>recorder-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>recorder</span> <span class="token attr-name"><span class="token namespace">v-model:</span>show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>showRecorder<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>showRecorder<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getRecord<span class="token punctuation">&quot;</span></span> <span class="token attr-name">showCanvas</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#send</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u53D1\u9001<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#cancel</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u53D6\u6D88<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>recorder</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>audio</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>src<span class="token punctuation">&quot;</span></span> <span class="token attr-name">controls</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>src<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>audio</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">const</span> showRecorder <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token comment">// \u5F55\u97F3</span>
<span class="token keyword">const</span> src <span class="token operator">=</span> ref<span class="token operator">&lt;</span>any<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">startRecoreder</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  showRecorder<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">true</span>
  src<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">&#39;&#39;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * \u83B7\u53D6\u5F55\u97F3\u6570\u636E
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>string<span class="token punctuation">}</span></span> <span class="token parameter">base64</span> \u5F55\u97F3base64
 */</span>
<span class="token keyword">function</span> <span class="token function">getRecord</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">base64</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  src<span class="token punctuation">.</span>value <span class="token operator">=</span> base64
<span class="token punctuation">}</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.recorder-container</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 54px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="props" tabindex="-1"><a class="header-anchor" href="#props" aria-hidden="true">#</a> Props</h2><table><thead><tr><th>\u53C2\u6570</th><th>\u7C7B\u578B</th><th>\u8BF4\u660E</th></tr></thead><tbody><tr><td>v-model:show</td><td>Boolean</td><td>\u662F\u5426\u663E\u793A\u5F55\u97F3\u754C\u9762\uFF0C\u9ED8\u8BA4false</td></tr><tr><td>showCanvas</td><td>Boolean</td><td>\u662F\u5426\u663E\u793A\u6CE2\u5F62\u56FE\uFF0C\u975E\u5FC5\u987B\uFF5C</td></tr></tbody></table><h2 id="events" tabindex="-1"><a class="header-anchor" href="#events" aria-hidden="true">#</a> Events</h2><table><thead><tr><th>\u540D\u79F0</th><th>\u53C2\u6570</th><th>\u8BF4\u660E</th></tr></thead><tbody><tr><td>src</td><td>src</td><td>\u5F55\u97F3base64</td></tr></tbody></table><h2 id="slots" tabindex="-1"><a class="header-anchor" href="#slots" aria-hidden="true">#</a> Slots</h2><table><thead><tr><th>\u540D\u79F0</th><th>\u8BF4\u660E</th></tr></thead><tbody><tr><td>cancel</td><td>\u53D6\u6D88\u6309\u94AE</td></tr><tr><td>send</td><td>\u5B8C\u6210\u6309\u94AE</td></tr></tbody></table>`,7),D=v({__name:"Recoreder.html",setup(R){const a=u(!1),n=u(null);function i(){a.value=!0,n.value=""}function d(e){n.value=e}return(e,o)=>{const g=c("recorder"),h=c("ClientOnly");return t(),l("div",null,[q,b(h,null,{default:p(()=>[s("button",{class:"btn",onClick:i,disabled:a.value},"\u5F00\u59CB\u5F55\u97F3",8,C),s("div",f,[a.value?(t(),_(g,{key:0,show:a.value,"onUpdate:show":o[0]||(o[0]=F=>a.value=F),onSrc:d,showCanvas:""},{send:p(()=>[y]),cancel:p(()=>[B]),_:1},8,["show"])):r("",!0),n.value?(t(),l("audio",{key:1,src:n.value,controls:""},null,8,E)):r("",!0)])]),_:1}),w])}}});var A=m(D,[["__file","Recoreder.html.vue"]]);export{A as default};
