import{_ as e,r as o,o as c,c as l,b as n,a as p,e as s,f as t}from"./app.c90e916d.js";var r="/assets/github-pages.0fc77975.png";const u={},i=n("h1",{id:"vue\u7EC4\u4EF6\u5E93\u5F00\u53D1\u6307\u5357",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#vue\u7EC4\u4EF6\u5E93\u5F00\u53D1\u6307\u5357","aria-hidden":"true"},"#"),s(" vue\u7EC4\u4EF6\u5E93\u5F00\u53D1\u6307\u5357")],-1),k=n("ul",null,[n("li",null,"lerna\u8FDB\u884C\u5305\u7BA1\u7406\u548C\u53D1\u5E03"),n("li",null,"rollup+gulp\u5B9E\u73B0\u6253\u5305\u81EA\u52A8\u5316")],-1),d=n("h2",{id:"npm\u53D1\u5305\u6D41\u7A0B",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#npm\u53D1\u5305\u6D41\u7A0B","aria-hidden":"true"},"#"),s(" npm\u53D1\u5305\u6D41\u7A0B")],-1),h={href:"https://docs.npmjs.com/cli/v8/commands",target:"_blank",rel:"noopener noreferrer"},g=s("\u547D\u4EE4\u8BF4\u660E\u6587\u6863"),y=n("h3",{id:"\u6CE8\u518Cnpmjs\u8D26\u53F7",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u6CE8\u518Cnpmjs\u8D26\u53F7","aria-hidden":"true"},"#"),s(" \u6CE8\u518Cnpmjs\u8D26\u53F7")],-1),b={href:"https://www.npmjs.com/",target:"_blank",rel:"noopener noreferrer"},f=s("npmjs"),m=t(`<p>\u6CE8\u518C\u5B8C\u6210\u540E\u9700\u8981\u767B\u5F55\u90AE\u7BB1\u901A\u8FC7\u9A8C\u8BC1</p><h3 id="\u547D\u4EE4\u884C\u767B\u9646\u8D26\u53F7" tabindex="-1"><a class="header-anchor" href="#\u547D\u4EE4\u884C\u767B\u9646\u8D26\u53F7" aria-hidden="true">#</a> \u547D\u4EE4\u884C\u767B\u9646\u8D26\u53F7</h3><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">npm</span> adduser
</code></pre></div><p>\u8BC1\u660E\u662F\u5426\u767B\u5F55\u6210\u529F</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">who</span> am i
</code></pre></div><h3 id="\u521B\u5EFA\u9879\u76EE\u5F00\u53D1\u5305" tabindex="-1"><a class="header-anchor" href="#\u521B\u5EFA\u9879\u76EE\u5F00\u53D1\u5305" aria-hidden="true">#</a> \u521B\u5EFA\u9879\u76EE\u5F00\u53D1\u5305</h3><p>packege.json</p>`,7),v={href:"https://docs.npmjs.com/cli/v8/configuring-npm/package-json",target:"_blank",rel:"noopener noreferrer"},x=s("package-json"),_=t(`<table><thead><tr><th>\u53C2\u6570</th><th>\u8BF4\u660E</th></tr></thead><tbody><tr><td>name</td><td>\u540D\u79F0\uFF0C\u65B0\u5F00\u53D1npm\u5305\u5148\u53BBnpmjs\u641C\u7D22\uFF0C\u6CA1\u6709\u7684\u624D\u53EF\u4EE5</td></tr><tr><td>version</td><td>\u7248\u672C\u53F7\uFF0C\u65B0\u5305\u53EF\u4EE5\u81EA\u7531\u8BBE\u7F6E\uFF0C\u4E00\u822C\u75280.0.1\u5F00\u59CB\uFF0C\u66F4\u65B0\u7684\u5305\u7248\u672C\u53F7\u5FC5\u987B\u6BD4\u5DF2\u53D1\u5E03\u7684\u5927</td></tr><tr><td>repository</td><td>\u4EE3\u7801\u4ED3\u5E93git\u5730\u5740\uFF0C\u5FC5\u987B\u5148\u63D0\u4EA4\u4EE3\u7801\u518D\u6267\u884C\u53D1\u5E03\u547D\u4EE4</td></tr><tr><td>files</td><td>\u53EA\u6709\u914D\u7F6E\u7684\u76EE\u5F55\u624D\u4F1A\u6253\u5305\u8FDB\u53BB</td></tr></tbody></table><h3 id="\u53D1\u5E03\u5305" tabindex="-1"><a class="header-anchor" href="#\u53D1\u5E03\u5305" aria-hidden="true">#</a> \u53D1\u5E03\u5305</h3><p>\u4FDD\u8BC1\u5305\u540D\u79F0\u548C\u7248\u672C\u53F7\u552F\u4E00</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">npm</span> publish
</code></pre></div><h3 id="\u4FEE\u6539\u7248\u672C\u53F7" tabindex="-1"><a class="header-anchor" href="#\u4FEE\u6539\u7248\u672C\u53F7" aria-hidden="true">#</a> \u4FEE\u6539\u7248\u672C\u53F7</h3><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">npm</span> version <span class="token operator">&lt;</span>update_type<span class="token operator">&gt;</span>
</code></pre></div><p>update_type \u8BF4\u660E</p><ul><li>patch\uFF1A0.1.1-0.1.2</li><li>minor\uFF1A0.1.1-0.2.0</li><li>major\uFF1A0.1.1-1.0.0</li></ul><h2 id="lerna\u57FA\u7840" tabindex="-1"><a class="header-anchor" href="#lerna\u57FA\u7840" aria-hidden="true">#</a> lerna\u57FA\u7840</h2><p>Lerna \u662F\u4E00\u4E2A\u4F18\u5316\u4F7F\u7528 git \u548C npm \u7BA1\u7406\u591A\u5305\u5B58\u50A8\u5E93\u7684\u5DE5\u4F5C\u6D41\u5DE5\u5177\uFF0C\u7528\u4E8E\u7BA1\u7406\u5177\u6709\u591A\u4E2A\u5305\u7684 JavaScript \u9879\u76EE\u3002</p>`,10),j={href:"https://lerna.js.org/",target:"_blank",rel:"noopener noreferrer"},w=s("lerna"),q=t(`<p>lerna\u4ED3\u5E93\u76EE\u5F55\u7ED3\u6784</p><div class="language-text ext-text"><pre class="language-text"><code>my-lerna-repo/
  package.json
  packages/
    package-1/
      package.json
    package-2/
      package.json
</code></pre></div><h3 id="\u5168\u5C40\u5B89\u88C5" tabindex="-1"><a class="header-anchor" href="#\u5168\u5C40\u5B89\u88C5" aria-hidden="true">#</a> \u5168\u5C40\u5B89\u88C5</h3><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">yarn</span> global <span class="token function">add</span> lerna
</code></pre></div><h3 id="\u5E38\u7528\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#\u5E38\u7528\u547D\u4EE4" aria-hidden="true">#</a> \u5E38\u7528\u547D\u4EE4</h3><h4 id="\u521D\u59CB\u5316\u4ED3\u5E93" tabindex="-1"><a class="header-anchor" href="#\u521D\u59CB\u5316\u4ED3\u5E93" aria-hidden="true">#</a> \u521D\u59CB\u5316\u4ED3\u5E93</h4><div class="language-bash ext-sh"><pre class="language-bash"><code>lerna init
</code></pre></div><p>\u4F1A\u81EA\u52A8\u751F\u6210\u4EE5\u4E0B\u6587\u4EF6</p><div class="language-text ext-text"><pre class="language-text"><code>lerna-repo/
  packages/
  package.json
  lerna.json
</code></pre></div><h4 id="\u5B89\u88C5packages\u4E0B\u7684\u4F9D\u8D56\u5305" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5packages\u4E0B\u7684\u4F9D\u8D56\u5305" aria-hidden="true">#</a> \u5B89\u88C5packages\u4E0B\u7684\u4F9D\u8D56\u5305</h4><div class="language-bash ext-sh"><pre class="language-bash"><code>lerna bootstrap
</code></pre></div><h4 id="\u53D1\u5E03\u5230npm" tabindex="-1"><a class="header-anchor" href="#\u53D1\u5E03\u5230npm" aria-hidden="true">#</a> \u53D1\u5E03\u5230npm</h4><p>\u63D0\u793A\u66F4\u65B0\u7248\u672C\u53F7\u540E\u76F4\u63A5\u4FEE\u6539\u5E76\u63A8\u9001\u4EE3\u7801\u5230\u4ED3\u5E93\uFF0C</p><div class="language-bash ext-sh"><pre class="language-bash"><code>lerna publish
</code></pre></div><h4 id="\u67E5\u770B\u53D8\u66F4" tabindex="-1"><a class="header-anchor" href="#\u67E5\u770B\u53D8\u66F4" aria-hidden="true">#</a> \u67E5\u770B\u53D8\u66F4</h4><p>\u63A8\u9001\u4EE3\u7801\u540E\u624D\u7B97</p><div class="language-bash ext-sh"><pre class="language-bash"><code>lerna changed
</code></pre></div><h2 id="rollup\u57FA\u7840-\u63D2\u4EF6" tabindex="-1"><a class="header-anchor" href="#rollup\u57FA\u7840-\u63D2\u4EF6" aria-hidden="true">#</a> rollup\u57FA\u7840+\u63D2\u4EF6</h2>`,18),V={href:"https://rollupjs.org/guide/en/",target:"_blank",rel:"noopener noreferrer"},P=s("rollup\u5B98\u7F51"),E=t(`<h3 id="\u5B89\u88C5" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5" aria-hidden="true">#</a> \u5B89\u88C5</h3><p>\u5168\u5C40\u5B89\u88C5</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> global rollup
</code></pre></div><p>\u6839\u76EE\u5F55\u65B0\u5EFA\u914D\u7F6E\u6587\u4EF6rollup.config.js</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// rollup.config.js</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token string">&#39;src/main.js&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">file</span><span class="token operator">:</span> <span class="token string">&#39;bundle.js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;cjs&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>\u5F00\u59CB\u6253\u5305</p><div class="language-bash ext-sh"><pre class="language-bash"><code>rollup -c rollup.config.js
</code></pre></div>`,7),T=s("\u6839\u636E"),D={href:"https://rollupjs.org/guide/en/#tools",target:"_blank",rel:"noopener noreferrer"},S=s("\u5B98\u65B9\u6587\u6863"),H=s("\u901A\u8FC7\u6DFB\u52A0\u5404\u79CD\u63D2\u4EF6\u5B9E\u73B0\u4EE3\u7801\u52A0\u8F7D\uFF0C\u9A8C\u8BC1\uFF0C\u538B\u7F29\u7B49\u529F\u80FD"),B=t(`<h3 id="\u5904\u7406\u5916\u90E8\u6A21\u5757" tabindex="-1"><a class="header-anchor" href="#\u5904\u7406\u5916\u90E8\u6A21\u5757" aria-hidden="true">#</a> \u5904\u7406\u5916\u90E8\u6A21\u5757</h3><ul><li>@rollup/plugin-node-resolve \u544A\u8BC9 Rollup \u5982\u4F55\u67E5\u627E\u5916\u90E8\u6A21\u5757</li><li>@rollup/plugin-commonjs \u5C06 CommonJS \u8F6C\u6362\u6210 ES2015 \u6A21\u5757</li></ul><p>\u5B89\u88C5\u63D2\u4EF6</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> -D @rollup/plugin-node-resolve @rollup/plugin-commonjs
</code></pre></div><p>\u4FEE\u6539\u914D\u7F6E</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// rollup.config.js</span>
<span class="token keyword">import</span> resolve <span class="token keyword">from</span> <span class="token string">&#39;@rollup/plugin-node-resolve&#39;</span>
<span class="token keyword">import</span> commonjs <span class="token keyword">from</span> <span class="token string">&#39;@rollup/plugin-commonjs&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">commonjs</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="\u4E0D\u6253\u5305\u5B50\u4F9D\u8D56\u5305" tabindex="-1"><a class="header-anchor" href="#\u4E0D\u6253\u5305\u5B50\u4F9D\u8D56\u5305" aria-hidden="true">#</a> \u4E0D\u6253\u5305\u5B50\u4F9D\u8D56\u5305</h3><p>\u4FEE\u6539\u914D\u7F6E</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// rollup.config.js</span>
<span class="token keyword">import</span> resolve <span class="token keyword">from</span> <span class="token string">&#39;@rollup/plugin-node-resolve&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// pass custom options to the resolve plugin</span>
      <span class="token literal-property property">customResolveOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">moduleDirectory</span><span class="token operator">:</span> <span class="token string">&#39;node_modules&#39;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// indicate which modules should be treated as external</span>
  <span class="token literal-property property">external</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;lodash&#39;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="babel" tabindex="-1"><a class="header-anchor" href="#babel" aria-hidden="true">#</a> Babel</h3><p>\u5B89\u88C5\u63D2\u4EF6\u548Cbabel\u5DE5\u5177</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> -D @rollup/plugin-babel @babel/core @babel/preset-env
</code></pre></div><p>\u4FEE\u6539\u914D\u7F6E</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// rollup.config.js</span>
<span class="token keyword">import</span> babel <span class="token keyword">from</span> <span class="token string">&#39;@rollup/plugin-babel&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">babel</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">[</span>
          <span class="token string">&#39;@babel/preset-env&#39;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token boolean">false</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;node_modules/**&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">babelHelpers</span><span class="token operator">:</span> <span class="token string">&#39;bundled&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="eslint" tabindex="-1"><a class="header-anchor" href="#eslint" aria-hidden="true">#</a> Eslint</h3><p>with Babel</p><p>\u5B89\u88C5\u63D2\u4EF6</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> -D eslint @rollup/plugin-eslint @babel/eslint-parser
</code></pre></div><p>\u4FEE\u6539\u914D\u7F6E</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// rollup.config.js</span>
<span class="token keyword">import</span> eslint <span class="token keyword">from</span> <span class="token string">&#39;@rollup/plugin-eslint&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">eslint</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">env</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">browser</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">node</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">es6</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">parser</span><span class="token operator">:</span> <span class="token string">&quot;@babel/eslint-parser&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">parserOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">sourceType</span><span class="token operator">:</span> <span class="token string">&quot;module&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">ecmaVersion</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
        <span class="token literal-property property">allowImportExportEverywhere</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">ecmaFeatures</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">globalReturn</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">requireConfigFile</span><span class="token operator">:</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&#39;eslint:recommended&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token comment">// add your custom rules here</span>
      <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&#39;no-unused-vars&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">babel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="vue" tabindex="-1"><a class="header-anchor" href="#vue" aria-hidden="true">#</a> Vue</h3><p>\u5B89\u88C5\u63D2\u4EF6</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> -D rollup-plugin-vue vue-eslint-parser vue-template-compiler
</code></pre></div><p>\u4FEE\u6539\u914D\u7F6E</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// rollup.config.js</span>
<span class="token keyword">import</span> VuePlugin <span class="token keyword">from</span> <span class="token string">&#39;rollup-plugin-vue&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">VuePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">css</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">compileTemplate</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="postcss" tabindex="-1"><a class="header-anchor" href="#postcss" aria-hidden="true">#</a> Postcss</h3><p>\u5B89\u88C5\u63D2\u4EF6\uFF0C\u5982\u679C\u4EE3\u7801\u4E2D\u4F7F\u7528\u4E86css\u9884\u5904\u7406\u5668\uFF0C\u5982<code>stylus</code>\uFF0C\u9700\u8981\u518D\u5B89\u88C5\u5BF9\u5E94\u5305\u5E76\u914D\u7F6E<code>extensions</code></p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> -D rollup-plugin-postcss postcss stylus
</code></pre></div><p>\u4FEE\u6539\u914D\u7F6E</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// rollup.config.js</span>
<span class="token keyword">import</span> postcss <span class="token keyword">from</span> <span class="token string">&#39;rollup-plugin-postcss&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">postcss</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">extensions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;.stylus&#39;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="\u4EE3\u7801\u538B\u7F29" tabindex="-1"><a class="header-anchor" href="#\u4EE3\u7801\u538B\u7F29" aria-hidden="true">#</a> \u4EE3\u7801\u538B\u7F29</h3><p>\u5B89\u88C5\u63D2\u4EF6</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> -D rollup-plugin-terser
</code></pre></div><p>\u4FEE\u6539\u914D\u7F6E</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// rollup.config.js</span>
<span class="token keyword">import</span> terser <span class="token keyword">from</span> <span class="token string">&#39;rollup-plugin-terser&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">terser</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>\u5B8C\u6574\u7684\u914D\u7F6E\u6587\u4EF6</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// rollup.config.js</span>
<span class="token keyword">import</span> resolve <span class="token keyword">from</span> <span class="token string">&#39;@rollup/plugin-node-resolve&#39;</span>
<span class="token keyword">import</span> commonjs <span class="token keyword">from</span> <span class="token string">&#39;@rollup/plugin-commonjs&#39;</span>
<span class="token keyword">import</span> babel <span class="token keyword">from</span> <span class="token string">&#39;@rollup/plugin-babel&#39;</span>
<span class="token keyword">import</span> eslint <span class="token keyword">from</span> <span class="token string">&#39;@rollup/plugin-eslint&#39;</span>
<span class="token keyword">import</span> VuePlugin <span class="token keyword">from</span> <span class="token string">&#39;rollup-plugin-vue&#39;</span>
<span class="token keyword">import</span> postcss <span class="token keyword">from</span> <span class="token string">&#39;rollup-plugin-postcss&#39;</span>
<span class="token keyword">import</span> terser <span class="token keyword">from</span> <span class="token string">&#39;rollup-plugin-terser&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token string">&#39;src/main.js&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">file</span><span class="token operator">:</span> <span class="token string">&#39;bundle.js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;cjs&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">postcss</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">extensions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;.stylus&#39;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">commonjs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">VuePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">css</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">compileTemplate</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">eslint</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">env</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">browser</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">node</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">es6</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">parser</span><span class="token operator">:</span> <span class="token string">&quot;@babel/eslint-parser&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">parserOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">sourceType</span><span class="token operator">:</span> <span class="token string">&quot;module&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">ecmaVersion</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
        <span class="token literal-property property">allowImportExportEverywhere</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">ecmaFeatures</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">globalReturn</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">requireConfigFile</span><span class="token operator">:</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&#39;eslint:recommended&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token comment">// add your custom rules here</span>
      <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&#39;no-unused-vars&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">babel</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">[</span>
          <span class="token string">&#39;@babel/preset-env&#39;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token boolean">false</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;node_modules/**&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">babelHelpers</span><span class="token operator">:</span> <span class="token string">&#39;bundled&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">terser</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="gulp" tabindex="-1"><a class="header-anchor" href="#gulp" aria-hidden="true">#</a> Gulp</h3><p>gulpfile.js</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// gulpfile.js</span>
<span class="token keyword">const</span> gulp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;gulp&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> rollup <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;rollup&#39;</span><span class="token punctuation">)</span>

gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">&#39;build&#39;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> bundle <span class="token operator">=</span> <span class="token keyword">await</span> rollup<span class="token punctuation">.</span><span class="token function">rollup</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token string">&#39;./src/main.ts&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token keyword">await</span> bundle<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">file</span><span class="token operator">:</span> <span class="token string">&#39;./dist/library.js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;umd&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;library&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="gulp\u57FA\u7840" tabindex="-1"><a class="header-anchor" href="#gulp\u57FA\u7840" aria-hidden="true">#</a> gulp\u57FA\u7840</h2>`,41),C={href:"https://gulpjs.com/docs/en/getting-started/quick-start",target:"_blank",rel:"noopener noreferrer"},F=s("gulp\u5FEB\u901F\u5165\u95E8"),G=t(`<h3 id="\u5168\u5C40\u5B89\u88C5-1" tabindex="-1"><a class="header-anchor" href="#\u5168\u5C40\u5B89\u88C5-1" aria-hidden="true">#</a> \u5168\u5C40\u5B89\u88C5</h3><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">yarn</span> global <span class="token function">add</span> gulp
</code></pre></div><p>\u4F7F\u7528 async/await</p><h3 id="\u521B\u5EFA\u4EFB\u52A1" tabindex="-1"><a class="header-anchor" href="#\u521B\u5EFA\u4EFB\u52A1" aria-hidden="true">#</a> \u521B\u5EFA\u4EFB\u52A1</h3><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// gulpfile.js</span>

<span class="token comment">// \u9ED8\u8BA4gulp\u4EFB\u52A1</span>
<span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">asyncAwaitTask</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> data <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">&#39;package.json&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
  <span class="token keyword">await</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;end&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

exports<span class="token punctuation">.</span>default <span class="token operator">=</span> asyncAwaitTask
</code></pre></div><h3 id="\u6267\u884C\u4EFB\u52A1" tabindex="-1"><a class="header-anchor" href="#\u6267\u884C\u4EFB\u52A1" aria-hidden="true">#</a> \u6267\u884C\u4EFB\u52A1</h3><div class="language-bash ext-sh"><pre class="language-bash"><code>gulp
</code></pre></div><h3 id="\u67E5\u8BE2\u4EFB\u52A1\u5217\u8868" tabindex="-1"><a class="header-anchor" href="#\u67E5\u8BE2\u4EFB\u52A1\u5217\u8868" aria-hidden="true">#</a> \u67E5\u8BE2\u4EFB\u52A1\u5217\u8868</h3><div class="language-bash ext-sh"><pre class="language-bash"><code>gulp -T
</code></pre></div><h2 id="\u90E8\u7F72\u5230github-pages" tabindex="-1"><a class="header-anchor" href="#\u90E8\u7F72\u5230github-pages" aria-hidden="true">#</a> \u90E8\u7F72\u5230GitHub Pages</h2>`,10),I={href:"https://pages.github.com/",target:"_blank",rel:"noopener noreferrer"},N=s("GitHub Pages\u5B98\u65B9\u6587\u6863"),R=t(`<p>\u5B98\u65B9\u6587\u6863\u8BB2\u89E3\u4E86\u5982\u4F55\u914D\u7F6E\uFF0C\u53EF\u5B9E\u73B0\u5728\u7EBF\u7F16\u8F91\u5B9E\u65F6\u751F\u6548\uFF0C\u5982\u5E0C\u671B\u5B9E\u73B0\u672C\u5730\u5F00\u53D1\u4E14\u53D1\u5E03\u5230<code>gh-pages</code>\u5206\u652F\uFF0C\u53EF\u4F7F\u7528gh-pages\u5FEB\u901F\u90E8\u7F72\uFF0C\u5047\u8BBE\u9759\u6001\u6587\u4EF6\u5DF2\u6253\u5305\u5230\u6839\u76EE\u5F55\u7684<code>dist</code>\u6587\u4EF6\u5939</p><h3 id="\u5B89\u88C5\u5305" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5\u5305" aria-hidden="true">#</a> \u5B89\u88C5\u5305</h3><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> -D gh-pages
</code></pre></div><p>\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6package.json</p><div class="language-json ext-json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;deploy&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gh-pages -d dist&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>\u53D1\u5E03</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">npm</span> run deploy
</code></pre></div><h3 id="\u914D\u7F6E\u5F00\u542Fgithub-pages" tabindex="-1"><a class="header-anchor" href="#\u914D\u7F6E\u5F00\u542Fgithub-pages" aria-hidden="true">#</a> \u914D\u7F6E\u5F00\u542FGitHub Pages</h3><p>Click on the Settings tab and scroll down to the GitHub Pages section. Then select the <code>gh-pages</code> branch source and click on the Save button.</p><p><img src="`+r+'" alt="github-pages"></p>',10);function L(O,A){const a=o("ExternalLinkIcon");return c(),l("div",null,[i,k,d,n("p",null,[n("a",h,[g,p(a)])]),y,n("p",null,[n("a",b,[f,p(a)])]),m,n("p",null,[n("a",v,[x,p(a)])]),_,n("p",null,[n("a",j,[w,p(a)])]),q,n("p",null,[n("a",V,[P,p(a)])]),E,n("p",null,[T,n("a",D,[S,p(a)]),H]),B,n("p",null,[n("a",C,[F,p(a)])]),G,n("p",null,[n("a",I,[N,p(a)])]),R])}var z=e(u,[["render",L],["__file","vue\u7EC4\u4EF6\u5E93\u5F00\u53D1\u6307\u5357.html.vue"]]);export{z as default};
