import{d as g,r as i,o as v,a as n,c as l,b as F,e as d,t as f,_ as b,f as B,g as C,w as x,h as A}from"./app.b0aad492.js";const V={class:"imgContent"},k={class:"img-container"},I=["src"],$={key:2,class:"plus"},w={class:"tip"},N=g({__name:"uploadImg",props:{modelValue:null,tip:null,max:null},emits:["update:modelValue"],setup(p,{emit:e}){const t=p,s=i(""),o=i(!1),u="image/jpg,image/jpeg,image/png,image/gif".split(",");function E(c){const a=c.target.files[0];if(!a)return;const{size:D,name:m,type:_}=a;if(D>(t.max||500)*1024){console.warn("\u6587\u4EF6\u5927\u5C0F",`${D/1024}k`),alert(`\u6587\u4EF6\u5C3A\u5BF8\u4E0D\u5F97\u8D85\u8FC7${t.max||500}k, '${m}' \u4E0D\u7B26\u5408\u8981\u6C42`),r();return}if(a&&u.includes(_)){const y=new FileReader;s.value="",o.value=!0,y.readAsDataURL(a),y.onloadend=h=>{e("update:modelValue",a),s.value=h.target.result,o.value=!1}}else alert(`\u6587\u4EF6\u4EC5\u652F\u6301\u56FE\u7247\u683C\u5F0F, '${m}' \u4E0D\u7B26\u5408\u8981\u6C42`),r();c.target.value=null}function r(){e("update:modelValue",""),s.value=""}return v(()=>{s.value=t.modelValue}),(c,a)=>(n(),l("div",V,[F("div",k,[s.value?(n(),l("img",{key:0,src:s.value,class:"img"},null,8,I)):d("",!0),F("input",{type:"file",accept:"image/*",ref:"file",onChange:E,title:""},null,544),s.value?(n(),l("i",{key:1,class:"remove",onClick:r},"\xD7")):d("",!0),s.value?d("",!0):(n(),l("i",$,"+"))]),F("div",w,f(p.tip||"\u4EC5\u652F\u6301jpg,png,gif\u6587\u4EF6"),1)]))}});const j=b(N,[["__scopeId","data-v-84f7b12e"]]),q=A('<h1 id="\u56FE\u7247\u4E0A\u4F20" tabindex="-1">\u56FE\u7247\u4E0A\u4F20 <a class="header-anchor" href="#\u56FE\u7247\u4E0A\u4F20" aria-hidden="true">#</a></h1><h2 id="demo" tabindex="-1">Demo <a class="header-anchor" href="#demo" aria-hidden="true">#</a></h2><p>\u4F7F\u7528<code>FileReader</code>\u65B9\u6CD5\uFF0C\u9009\u62E9\u56FE\u7247\u540E\u8BFB\u53D6\u5230<code>base64</code>\u683C\u5F0F\u7684\u56FE\u7247\u4FE1\u606F\uFF0C\u901A\u8FC7\u8D4B\u503C\u7ED9<code>img</code>\u7684<code>src</code>\u5B9E\u73B0\u56FE\u7247\u9884\u89C8</p>',3),O=A(`<div class="language-vue line-numbers-mode"><button class="copy"></button><span class="lang">vue</span><pre><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">uploadImg</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">v-model</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">imgurl</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">uploadImg</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">setup</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">lang</span><span style="color:#A6ACCD;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ref</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vue</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> uploadImg </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./uploadImg/uploadImg.vue</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> imgurl </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ref</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="props" tabindex="-1">Props <a class="header-anchor" href="#props" aria-hidden="true">#</a></h2><table><thead><tr><th>\u53C2\u6570</th><th>\u7C7B\u578B</th><th>\u8BF4\u660E</th></tr></thead><tbody><tr><td>v-model</td><td>any</td><td>\u56FE\u7247\u8DEF\u5F84\u6216\u5BF9\u8C61</td></tr><tr><td>max</td><td>number</td><td>\u56FE\u7247\u5927\u5C0F\u9650\u5236\uFF0C\u9ED8\u8BA4500k</td></tr><tr><td>tip</td><td>string</td><td>\u4EC5\u652F\u6301jpg,png,gif\u6587\u4EF6</td></tr></tbody></table>`,3),S=JSON.parse('{"title":"\u56FE\u7247\u4E0A\u4F20","description":"","frontmatter":{},"headers":[{"level":2,"title":"Demo","slug":"demo","link":"#demo","children":[]},{"level":2,"title":"Props","slug":"props","link":"#props","children":[]}],"relativePath":"components/\u56FE\u7247\u4E0A\u4F20.md"}'),P={name:"components/\u56FE\u7247\u4E0A\u4F20.md"},M=g({...P,setup(p){const e=i("");return(t,s)=>{const o=B("ClientOnly");return n(),l("div",null,[q,C(o,null,{default:x(()=>[C(j,{modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=u=>e.value=u)},null,8,["modelValue"])]),_:1}),O])}}});export{S as __pageData,M as default};
